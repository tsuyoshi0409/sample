(function(t){function e(e){for(var a,l,o=e[0],n=e[1],c=e[2],m=0,d=[];m<o.length;m++)l=o[m],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&d.push(i[l][0]),i[l]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);_&&_(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var n=s[o];0!==i[n]&&(a=!1)}a&&(r.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={index:0},r=[];function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],n=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var _=n;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"28c9":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=s("5f5b"),r=(s("f9e3"),s("2dd8"),s("7496")),l=s("f6c4"),o=function(){var t=this,e=t._self._c;return e(r["a"],[e(l["a"],[e("router-view")],1)],1)},n=[],c={name:"App",data:()=>({})},_=c,m=s("2877"),d=Object(m["a"])(_,o,n,!1,null,null,null),u=d.exports,b=s("8c4f"),h=s("2f62"),p=s("bc3a"),v=s.n(p);const f=v.a.create({baseURL:"/api/v1/",timeout:5e3,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});f.interceptors.request.use(t=>{k.dispatch("message/clearMessages");const e=localStorage.getItem("access");return e?(t.headers.Authorization="JWT "+e,t):t},t=>Promise.reject(t)),f.interceptors.response.use(t=>t,t=>{console.log("error.response=",t.response);const e=t.response?t.response.status:500;let s;if(400===e){const e=[].concat.apply([],Object.values(t.response.data));k.dispatch("message/setWarningMessages",{messages:e})}else if(401===e){const t=localStorage.getItem("access");s=null!=t?"ログイン有効期限切れ":"認証エラー",k.dispatch("auth/logout"),k.dispatch("message/setErrorMessage",{message:s})}else 403===e?(s="権限エラーです。",k.dispatch("message/setErrorMessage",{message:s})):(s="想定外のエラーです。",k.dispatch("message/setErrorMessage",{message:s}));return Promise.reject(t)});var g=f;a["default"].use(h["a"]);const x={namespaced:!0,state:{username:"",isLoggedIn:!1},mutations:{set(t,e){t.username=e.user.username,t.isLoggedIn=!0},clear(t){t.username="",t.isLoggedIn=!1}},actions:{login(t,e){return g.post("/auth/jwt/create/",{username:e.username,password:e.password}).then(e=>(localStorage.setItem("access",e.data.access),t.dispatch("renew")))},logout(t){localStorage.removeItem("access"),t.commit("clear")},renew(t){return g.get("/auth/users/me/").then(e=>{const s=e.data;t.commit("set",{user:s})})}}},C={namespaced:!0,state:{error:"",warnings:[],info:""},mutations:{set(t,e){e.error&&(t.error=e.error),e.warnings&&(t.warnings=e.warnings),e.info&&(t.info=e.info)},clear(t){t.error="",t.warnings=[],t.info=""}},actions:{setErrorMessage(t,e){t.commit("clear"),t.commit("set",{error:e.message})},setWarningMessages(t,e){t.commit("clear"),t.commit("set",{warnings:e.messages})},setInfoMessage(t,e){t.commit("clear"),t.commit("set",{info:e.message})},clearMessages(t){t.commit("clear")}}},w=new h["a"].Store({modules:{auth:x,message:C}});var k=w,y=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"home-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("a",{attrs:{href:"/create"}},[e("b-button",{staticClass:"text-white",attrs:{variant:"primary"}},[t._v("新規登録")])],1)])]),e("b-container",{staticClass:"border",attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("台帳No.")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_parent_id,expression:"Q_parent_id"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_parent_id},on:{input:function(e){e.target.composing||(t.Q_parent_id=e.target.value)}}})]),e("b-col",{attrs:{sm:"2"}},[t._v("ステータス")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{model:{value:t.Q_status,callback:function(e){t.Q_status=e},expression:"Q_status"}},[e("option",{attrs:{value:""}},[t._v("----")]),e("option",{attrs:{value:"0"}},[t._v("未精査")]),e("option",{attrs:{value:"1"}},[t._v("確認中")]),e("option",{attrs:{value:"2"}},[t._v("精査済")])])],1)],1),e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("品名")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_parent_name,expression:"Q_parent_name"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_parent_name},on:{input:function(e){e.target.composing||(t.Q_parent_name=e.target.value)}}})]),e("b-col",{attrs:{sm:"2"}},[t._v("図番")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_parent_figure_number,expression:"Q_parent_figure_number"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_parent_figure_number},on:{input:function(e){e.target.composing||(t.Q_parent_figure_number=e.target.value)}}})])],1),e("b-row",[e("b-col",{attrs:{sm:"2"}},[t._v("顧客名")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_customer_name,expression:"Q_customer_name"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_customer_name},on:{input:function(e){e.target.composing||(t.Q_customer_name=e.target.value)}}})])],1)],1),e("div",{staticClass:"text-center my-5"},[e("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return e.preventDefault(),t.getArticles()}}},[t._v(" 検索 ")])])]),e("b-container",{staticClass:"my-5",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"1"}},[t._v("台帳No.")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ステータス")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"3"}},[t._v("品名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"3"}},[t._v("図番")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"3"}},[t._v("顧客名")])],1),t._l(t.parents.results,(function(s){return e("div",{key:s.parent_id},[e("b-row",[e("b-col",{staticClass:"border",attrs:{cols:"1"}},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(t._s(s.parent_id)+" ")])],1),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===s.status?e("div",[t._v("未精査")]):1===s.status?e("div",[t._v("確認中")]):2===s.status?e("div",[t._v("精査済")]):t._e()]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t._v(t._s(s.parent_name))]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t._v(t._s(s.parent_figure_number))]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t._v(t._s(s.customer_name))])],1)],1)})),e("div",{staticClass:"my-5 text-center"},[e("p",{directives:[{name:"show",rawName:"v-show",value:t.loadingParents,expression:"loadingParents"}]},[t._v("...loading...")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.previous,expression:"previous"}],staticClass:"text-white mx-1",attrs:{variant:"primary"},on:{click:t.getPrevious}},[t._v("前へ")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.next,expression:"next"}],staticClass:"text-white mx-1",attrs:{variant:"primary"},on:{click:t.getNext}},[t._v("次へ")])],1)],2)],1)},z=[],j=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"header"}},[e("b-navbar",{attrs:{type:"dark",variant:"dark"}},[e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("図面精査")]),e("a",{staticClass:"navbar-brand",attrs:{href:"/material_list",target:"_blank"}},[t._v("材料マスタ")]),e("a",{staticClass:"navbar-brand",attrs:{href:"/customer_list",target:"_blank"}},[t._v("顧客マスタ")]),t.isLoggedIn?e("Bell"):t._e(),t.$route.meta.requiresAuth?e("b-navbar-nav",{staticClass:"ml-auto"},[t.isLoggedIn?e("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(t._s(t.username))]},proxy:!0}],null,!1,1662484308)},[e("b-dropdown-item",{attrs:{href:"#"},on:{click:t.clickLogout}},[t._v(" ログアウト ")])],1):e("b-nav-item",{attrs:{href:"#"},on:{click:t.clickLogin}},[t._v(" ログイン ")])],1):t._e()],1)],1)},$=[],G=s("a797"),q=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"my-5"},[e("div",[e("button",{on:{click:t.openModal}},[e("notification-bell",{attrs:{size:20,count:t.count,"upper-limit":50,"counter-location":"upperRight","counter-style":"roundRectangle","counter-background-color":"#FF0000","counter-text-color":"#FFFFFF","icon-color":"#FFFFFF","font-size":"10px",animated:!0},on:{mouseover:t.openModal}})],1),e(G["a"],{attrs:{value:t.showContent}},[e("b-list-group",t._l(t.list,(function(s){return e("b-list-group-item",{key:s.id,staticClass:"text-dark"},[1==s.message_number?e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - 新規登録しました - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1):2==s.message_number?e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - 精査済です - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1):3==s.message_number?e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - 確認事項あり - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1):4==s.message_number?e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - コメントしました - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1):6==s.message_number?e("div",[s.scrutinizer==s.updated_user?e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - 私が精査します - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1):e("div",[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:s.parent_id}}}},[t._v(" "+t._s("台帳No."+s.parent_id)+" ")]),t._v(" - "+t._s(s.scrutinizer_last_name)+t._s(s.scrutinizer_first_name)+"さん精査お願いします - "+t._s(s.updated_user_last_name)+t._s(s.updated_user_first_name)+" "+t._s(s.updated_at)+" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("削除")])],1)]):t._e()])})),1),e("button",{on:{click:t.closeModal}},[t._v("Close")])],1)],1)])},D=[],N=s("55ad"),M=s.n(N),E=s("c1df"),S=s.n(E),T={components:{"notification-bell":M.a},data(){return{list:null,showContent:!1,user_id:null,updated_at:null,count:0}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getItems:function(){g.get("/auth/users/me/").then(t=>{this.user_id=t.data.id,g({method:"GET",url:`/getbells4/${this.user_id}/True/`}).then(t=>{this.list=t.data,this.count=this.list.length;for(let e=0;e<this.list.length;e++)this.list[e].updated_at=S()(this.list[e].updated_at).format("YYYY/MM/DD/HH:mm")})})},deleteItem:function(t){g({method:"PATCH",url:`/bells/${t}/`,data:{is_active:!1}}).then(this.$router.go({name:"bell"}))},openModal:function(){this.showContent=!0},closeModal:function(){this.showContent=!1}},created(){this.getItems()}},P=T,I=Object(m["a"])(P,q,D,!1,null,null,null),O=I.exports,Q={components:{Bell:O},computed:{username:function(){return this.$store.state.auth.username},isLoggedIn:function(){return this.$store.state.auth.isLoggedIn}},methods:{clickLogout:function(){this.$store.dispatch("auth/logout"),this.$store.dispatch("message/setInfoMessage",{message:"ログアウトしました。"}),this.$router.replace("/login")},clickLogin:function(){this.$store.dispatch("message/clearMessages"),this.$router.replace("/login")}}},H=Q,A=Object(m["a"])(H,j,$,!1,null,null,null),Y=A.exports,L=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"messages"}},[e("b-alert",{directives:[{name:"show",rawName:"v-show",value:t.message.error,expression:"message.error"}],staticClass:"mb-0",attrs:{variant:"danger",show:""}},[t._v(" "+t._s(t.message.error)+" ")]),e("b-alert",{directives:[{name:"show",rawName:"v-show",value:t.message.warnings.length>0,expression:"message.warnings.length > 0"}],staticClass:"mb-0",attrs:{variant:"warning",show:""}},t._l(t.message.warnings,(function(s){return e("p",{key:s,staticClass:"mb-0"},[t._v(" "+t._s(s)+" ")])})),0),e("b-alert",{directives:[{name:"show",rawName:"v-show",value:t.message.info,expression:"message.info"}],staticClass:"mb-0",attrs:{variant:"info",show:""}},[t._v(" "+t._s(t.message.info)+" ")])],1)},F=[],X={computed:{message:function(){return this.$store.state.message}}},V=X,W=Object(m["a"])(V,L,F,!1,null,null,null),R=W.exports,B={components:{GlobalHeader:Y,GlobalMessage:R},data(){return{parents:"",next:null,previous:null,loadingParents:!1,Q_parent_id:"",Q_parent_name:"",Q_parent_figure_number:"",Q_status:"",Q_customer_name:""}},methods:{getParents:function(){this.loadingParents=!0,g({method:"get",url:"/parents/"}).then(t=>{this.parents=t.data,this.loadingParents=!1,t.data.next?this.next=t.data.next:this.next=null,t.data.previous?this.previous=t.data.previous:this.previous=null})},getNext:function(){let t="/parents/";this.next&&(t=this.next),this.loadingParents=!0,g({method:"get",url:t}).then(t=>{this.parents=t.data,this.loadingParents=!1,t.data.next?this.next=t.data.next:this.next=null,t.data.previous?this.previous=t.data.previous:this.previous=null})},getPrevious:function(){let t="/parents/";this.previous&&(t=this.previous),this.loadingParents=!0,g({method:"get",url:t}).then(t=>{this.parents=t.data,this.loadingParents=!1,t.data.next?this.next=t.data.next:this.next=null,t.data.previous?this.previous=t.data.previous:this.previous=null})},getArticles:function(){g({method:"get",url:`/parents/?Q_parent_id=${this.Q_parent_id}&Q_parent_name=${this.Q_parent_name}&Q_parent_figure_number=${this.Q_parent_figure_number}&Q_status=${this.Q_status}&Q_customer_name=${this.Q_customer_name}`}).then(t=>{this.parents=t.data,this.loadingParents=!1,t.data.next?this.next=t.data.next:this.next=null,t.data.previous?this.previous=t.data.previous:this.previous=null})}},created(){this.getParents()}},U=B,J=Object(m["a"])(U,y,z,!1,null,null,null),K=J.exports,Z=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"login-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("main",{staticClass:"container mt-5 p-5"},[e("p",{staticClass:"h5 mb-5"},[t._v("ログイン")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitLogin.apply(null,arguments)}}},[e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("ユーザー名")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{attrs:{type:"text",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("パスワード")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{attrs:{type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("ログイン")])],1)])])],1)],1)},tt=[],et={components:{GlobalHeader:Y,GlobalMessage:R},data(){return{form:{username:"",password:""}}},methods:{submitLogin:function(){this.$store.dispatch("auth/login",{username:this.form.username,password:this.form.password}).then(()=>{console.log("Login succeeded."),this.$store.dispatch("message/setInfoMessage",{message:"ログインしました。"});const t=this.$route.query.next||"/";this.$router.replace(t)})}}},st=et,at=Object(m["a"])(st,Z,tt,!1,null,null,null),it=at.exports,rt=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),t.parent?e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-container",{staticClass:"my-3"},[e("h2",[t._v("依頼内容")])]),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("台帳No.")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent_id))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("登録日時")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.created_at))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("依頼者")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.author_last_name)+t._s(t.parent.author_first_name))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ステータス")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.parent.status?e("div",[t._v("未精査")]):1===t.parent.status?e("div",[t._v("確認中")]):2===t.parent.status?e("div",[t._v("精査済")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("精査日時")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(" "+t._s(t.scrutiny_at)+" ")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("精査者")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(" "+t._s(t.parent.scrutinizer_last_name)+t._s(t.parent.scrutinizer_first_name)+" ")])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("顧客名")]),e("b-col",{staticClass:"border",attrs:{cols:"6"}},[t._v(t._s(t.parent.customer_name))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("顧客ID")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.customer_id))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("営業")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.sales_last_name)+t._s(t.parent.sales_first_name))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("アシスタント")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.assistant_last_name)+t._s(t.parent.assistant_first_name))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("生産管理")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.production_control_last_name)+t._s(t.parent.production_control_first_name))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("(組図)品名")]),e("b-col",{staticClass:"border",attrs:{cols:"10"}},[t._v(t._s(t.parent.parent_name))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("(組)図番")]),e("b-col",{staticClass:"border",attrs:{cols:"10"}},[t._v(t._s(t.parent.parent_figure_number))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("数量")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.necessary_amount))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("納入形態")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.parent.delivery_form?e("div",[t._v("バラ")]):1===t.parent.delivery_form?e("div",[t._v("フレーム")]):2===t.parent.delivery_form?e("div",[t._v("シート")]):e("div",[t._v(t._s(t.parent.delivery_form))])])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("見積回答")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.estimate_answer))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("希望納期")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.desired_delivery_date))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.parent.material_big?e("div",[t._v("自社材")]):1===t.parent.material_big?e("div",[t._v("購入材")]):2===t.parent.material_big?e("div",[t._v("支給材")]):e("div",[t._v(t._s(t.parent.material_big))])]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料ID")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.material_id))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("記号")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.material_symbol))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("硬度仕上げ")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.hardness))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("板厚")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.parent.sheet_thickness?e("div",[t._v(t._s(t.parent.sheet_thickness)+" μm")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料サイズ")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.parent.material_size_w||t.parent.material_size_l?e("div",[t._v(" "+t._s(t.parent.material_size_w)+" × "+t._s(t.parent.material_size_l)+" mm ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("類似指示書No.")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[t._v(t._s(t.parent.similar_directions_number))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("添付ファイル")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("a",{attrs:{href:t.url}},[t._v(t._s(t.parent.file_name))])]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ファイル最終更新")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.file_created_at))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ファイル登録者")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.parent.file_author_last_name)+t._s(t.parent.file_author_first_name))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"12"}},[t._v("連絡事項")])],1),e("b-row",[e("b-col",{staticClass:"border",attrs:{cols:"12"}},[e("b-textarea",{staticClass:"bg-white",attrs:{rows:"5",disabled:""},model:{value:t.parent.sales_prior_information,callback:function(e){t.$set(t.parent,"sales_prior_information",e)},expression:"parent.sales_prior_information"}})],1)],1),e("b-container",{staticClass:"text-center my-5"},[e("router-link",{attrs:{to:{name:"editor",params:{parent_id:t.parent.parent_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1),e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"danger"},on:{click:t.deleteParentData}},[t._v("削除")])],1)],1):t._e(),e("ChildrenListVue",{attrs:{parent_id:t.parent_id}}),e("PartListVue",{attrs:{parent_id:t.parent_id}}),e("CommentsListVue",{attrs:{parent_id:t.parent_id}}),e("StatusVue",{attrs:{parent_id:t.parent_id}})],1)},lt=[],ot=(s("14d9"),function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-container",{directives:[{name:"show",rawName:"v-show",value:t.seigi_bool,expression:"seigi_bool"}],staticClass:"my-5"},[e("router-link",{attrs:{to:{name:"child_create",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"text-light",attrs:{variant:"primary"}},[t._v("新規登録")])],1)],1),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("精査内容")])]),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("エッチング品ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"5"}},[t._v("品名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"5"}},[t._v("図番")])],1),t._l(t.children,(function(s){return e("b-row",{key:s.child_id},[e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:s.child_id}}}},[t._v(t._s(s.child_id)+" ")])],1),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[t._v(t._s(s.child_name))]),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[t._v(t._s(s.child_figure_number))])],1)}))],2)],1)}),nt=[],ct={props:{parent_id:{required:!0}},data(){return{children:null,group:null,seigi_bool:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"get",url:`/parents/${this.parent_id}/children/`}).then(t=>{this.children=t.data}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)})}},created(){this.getData()}},_t=ct,mt=Object(m["a"])(_t,ot,nt,!1,null,null,null),dt=mt.exports,ut=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"comments_list-page"}},[e("b-container",{staticClass:"border my-2",attrs:{fluid:"xl"}},[e("b-container",{staticClass:"my-3"},[e("h4",[t._v("コメント")])]),t._l(t.comments,(function(s){return e("div",{key:s.comment_id},[e("b-container",{staticClass:"border my-5"},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("p",{staticClass:"font-weight-bold"},[t._v(t._s(s.poster_last_name)+t._s(s.poster_first_name))])]),e("b-col",{attrs:{cols:"3"}},[e("p",[t._v(t._s(s.updated_at))])]),e("b-col",[s.poster==t.poster?e("b-button",{attrs:{variant:"warning"},on:{click:function(e){return t.editCommentData(s.comment_id)}}},[t._v("編集 ")]):t._e(),s.poster==t.poster?e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteCommentData(s.comment_id)}}},[t._v("削除 ")]):t._e()],1)],1),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave2(s.comment_id,s.comment)}}},[e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("b-textarea",{attrs:{disabled:t.activate_dict[s.comment_id]},model:{value:s.comment,callback:function(e){t.$set(s,"comment",e)},expression:"comment.comment"}})],1)],1),t.activate_dict[s.comment_id]?t._e():e("b-container",{staticClass:"text-center"},[e("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("投稿")])],1)],1)],1)],1)})),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-textarea",{attrs:{type:"text",placeholder:"コメント"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),e("b-container",{staticClass:"text-center mb-3"},[e("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("投稿")])],1)],1)],2)],1)},bt=[],ht={props:["parent_id"],data(){return{comments:"",comment:null,updated_at:null,poster:null,activate_dict:{}}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getComments:function(){g({method:"get",url:`/parents/${this.parent_id}/comments/`}).then(t=>{this.comments=t.data;for(let e=0;e<this.comments.length;e++)this.comments[e].updated_at=S()(this.comments[e].updated_at).format("YYYY/MM/DD HH:mm"),this.activate_dict[this.comments[e].comment_id]=!0})},editCommentData:function(t){this.$set(this.activate_dict,t,!1),this.$forceUpdate()},deleteCommentData:function(t){var e=window.confirm("削除してもよろしいですか？");e&&g({method:"delete",url:`/comments/${t}/`}).then(()=>{this.$router.go({name:"parent",params:{parent_id:this.parent_id}})})},getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.poster=t.data[0].id})},submitSave:function(){g({method:"POST",url:"/comments/",data:{parent_id:this.parent_id,poster:this.poster,comment:this.comment}}).then(this.$router.go({name:"parent",params:{parent_id:this.parent_id}}))},submitSave2:function(t,e){g({method:"PUT",url:`/comments/${t}/`,data:{comment:e,poster:this.poster,parent_id:this.parent_id}}).then(this.$router.go({name:"parent",params:{parent_id:this.parent_id}}))}},created(){this.getData(),this.getComments()}},pt=ht,vt=Object(m["a"])(pt,ut,bt,!1,null,null,null),ft=vt.exports,gt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"status-page"}},[e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-container",{staticClass:"my-3"},[e("h4",{staticClass:"mt-3"},[t._v("通知")])]),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("営業")])],1),e("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.sales_list,stacked:""},model:{value:t.after_users_list,callback:function(e){t.after_users_list=e},expression:"after_users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("アシスタント")])],1),e("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.assistant_list,stacked:""},model:{value:t.after_users_list,callback:function(e){t.after_users_list=e},expression:"after_users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("生産管理")])],1),e("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.production_control_list,stacked:""},model:{value:t.after_users_list,callback:function(e){t.after_users_list=e},expression:"after_users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("購買")])],1),e("b-collapse",{attrs:{id:"accordion-4",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.purchase_list,stacked:""},model:{value:t.after_users_list,callback:function(e){t.after_users_list=e},expression:"after_users_list"}})],1)],1)],1)],1)],1)],1),e("b-container",{staticClass:"text-center my-5"},[e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.seigi_bool,expression:"seigi_bool"}],staticClass:"text-light mx-1",attrs:{variant:"primary"},on:{click:function(e){return t.changeStatus(2,2)}}},[t._v("精査済")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.seigi_bool,expression:"seigi_bool"}],staticClass:"mx-1",attrs:{variant:"warning"},on:{click:function(e){return t.changeStatus(1,3)}}},[t._v("確認事項あり")]),e("b-button",{staticClass:"mx-1",attrs:{variant:"success"},on:{click:function(e){return t.changeStatus(5,4)}}},[t._v("コメントしました")])],1)],1)],1)},xt=[];const Ct=1,wt=2,kt=3,yt=4,zt=5;var jt={props:["parent_id"],data(){return{scrutinizer:null,group:null,seigi_bool:null,bell_id_dict:{},before_users_list:[],after_users_list:[],assistant_list:[],sales_list:[],production_control_list:[],purchase_list:[]}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.scrutinizer=t.data[0].id,this.group=t.data[0].groups,this.seigi_bool=this.group.includes(kt),g({method:"GET",url:`/getbells3/${this.parent_id}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.before_users_list.push(t.data[e].user),this.after_users_list.push(t.data[e].user),this.$set(this.bell_id_dict,t.data[e].user,t.data[e].id);this.after_users_list.includes(this.scrutinizer)||this.after_users_list.push(this.scrutinizer)})}),g({method:"GET",url:`/getusers/${wt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.assistant_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${Ct}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.sales_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${yt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.production_control_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${zt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.purchase_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})})},changeStatus:function(t,e){1!=t&&2!=t||g({method:"PUT",url:`/parents/${this.parent_id}/`,data:{status:t,scrutinizer:this.scrutinizer,scrutiny_at:S()().format()}});for(let s=0;s<this.after_users_list.length;s++)this.before_users_list.includes(this.after_users_list[s])?g({method:"PATCH",url:`/bells/${this.bell_id_dict[this.after_users_list[s]]}/`,data:{is_active:!0,updated_at:S()().format(),updated_user:this.scrutinizer,message_number:e}}):g({method:"POST",url:"/bells/",data:{user:this.after_users_list[s],parent_id:this.parent_id,is_active:!0,updated_at:S()().format(),updated_user:this.scrutinizer,message_number:e}});this.$router.go({name:"parent",params:{parent_id:this.parent_id}})}},created(){this.getData()}},$t=jt,Gt=Object(m["a"])($t,gt,xt,!1,null,null,null),qt=Gt.exports,Dt=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3 border",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{attrs:{cols:"3",md:"2"}},[e("h3",[t._v("購入品")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"part_editor",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1),e("b-container",{attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("購入品ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"5"}},[t._v("部品名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"5"}},[t._v("仕入先")])],1),t._l(t.parts,(function(s){return e("b-row",{key:s.part_id},[e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(s.part_id))]),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[t._v(t._s(s.part_name))]),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[t._v(t._s(s.company_name))])],1)}))],2)],1)},Nt=[],Mt={props:{parent_id:{required:!0}},data(){return{parts:null,group:null,seigi_bool:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"get",url:`/parents/${this.parent_id}/parts/`}).then(t=>{this.parts=t.data}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)})}},created(){this.getData()}},Et=Mt,St=Object(m["a"])(Et,Dt,Nt,!1,null,null,null),Tt=St.exports,Pt={components:{GlobalHeader:Y,GlobalMessage:R,ChildrenListVue:dt,CommentsListVue:ft,StatusVue:qt,PartListVue:Tt},props:{parent_id:{required:!0}},data(){return{parent:null,created_at:null,scrutiny_at:null,estimate_answer:null,desired_delivery_date:null,file_name:null,url:null,scrutinizer:null,file_created_at:null}},watch:{$route(){location.reload()}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"get",url:`/parents/${this.parent_id}/`}).then(t=>{this.parent=t.data,this.created_at=S()(t.data.created_at).format("YYYY/MM/DD HH:mm"),t.data.scrutiny_at&&(this.scrutiny_at=S()(t.data.scrutiny_at).format("YYYY/MM/DD HH:mm")),t.data.estimate_answer&&(this.estimate_answer=S()(t.data.estimate_answer).format("YYYY/MM/DD")),t.data.desired_delivery_date&&(this.desired_delivery_date=S()(t.data.desired_delivery_date).format("YYYY/MM/DD")),t.data.file_created_at&&(this.file_created_at=S()(t.data.file_created_at).format("YYYY/MM/DD HH:mm")),t.data.file_name&&(this.url=`/api/v1/download/${this.parent_id}/`)})},deleteParentData:function(){var t=window.confirm("削除してもよろしいですか？");t&&g({method:"delete",url:`/parents/${this.parent_id}/`}).then(()=>{this.$router.push({name:"home"})})}},created(){this.getData()}},It=Pt,Ot=Object(m["a"])(It,rt,lt,!1,null,null,null),Qt=Ot.exports,Ht=s("c6a6"),At=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"create-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-3"},[e("h2",[t._v("図面精査依頼")])]),e("b-container",[e("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border"},[e("h5",{staticClass:"mt-3"},[t._v("製品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("(組図)品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-input",{attrs:{type:"text"},model:{value:t.parent_name,callback:function(e){t.parent_name=e},expression:"parent_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("(組)図番")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-input",{attrs:{type:"text"},model:{value:t.parent_figure_number,callback:function(e){t.parent_figure_number=e},expression:"parent_figure_number"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("顧客情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("顧客名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"12",md:"9"}},[e(Ht["a"],{attrs:{items:t.customer_list,"item-text":"customer_name",label:"顧客名"},on:{change:t.changeCustomerId},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("顧客ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e(Ht["a"],{attrs:{items:t.customer_list,"item-text":"customer_id",label:"顧客ID"},on:{change:t.changeCustomerName},model:{value:t.customer_id,callback:function(e){t.customer_id=e},expression:"customer_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("営業担当")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.sales_list2},model:{value:t.sales,callback:function(e){t.sales=e},expression:"sales"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("アシスタント")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.assistant_list2},model:{value:t.assistant,callback:function(e){t.assistant=e},expression:"assistant"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("生産管理")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.production_control_list2},model:{value:t.production_control,callback:function(e){t.production_control=e},expression:"production_control"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("見積情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("必要数")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-input",{attrs:{type:"text"},model:{value:t.necessary_amount,callback:function(e){t.necessary_amount=e},expression:"necessary_amount"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("納入形態")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.delivery_form_options},model:{value:t.delivery_form,callback:function(e){t.delivery_form=e},expression:"delivery_form"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("見積回答")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-input",{attrs:{type:"date"},model:{value:t.estimate_answer,callback:function(e){t.estimate_answer=e},expression:"estimate_answer"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("希望納期")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-input",{attrs:{type:"date"},model:{value:t.desired_delivery_date,callback:function(e){t.desired_delivery_date=e},expression:"desired_delivery_date"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("材料")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料種類")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.material_big_options},model:{value:t.material_big,callback:function(e){t.material_big=e},expression:"material_big"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e(Ht["a"],{attrs:{dense:"",items:t.material_list,"item-text":"material_id"},on:{change:t.change_material},model:{value:t.material_id,callback:function(e){t.material_id=e},expression:"material_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料形状")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材質")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("記号")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("硬度・仕上げ")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("板厚")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズW")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズL")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("類似品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("類似指示書No.")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"6"}},[e("b-input",{attrs:{type:"text"},model:{value:t.similar_directions_number,callback:function(e){t.similar_directions_number=e},expression:"similar_directions_number"}})],1)],1)],1),e("b-container",{staticClass:"border my-5"},[e("h5",{staticClass:"mt-3"},[t._v("添付ファイル(zip形式)")]),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("input",{attrs:{type:"file",name:"file"},on:{change:t.selectedFile}})])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("連絡事項")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sales_prior_information,expression:"sales_prior_information"}],staticClass:"form-control mb-3",attrs:{type:"text",rows:"5"},domProps:{value:t.sales_prior_information},on:{input:function(e){e.target.composing||(t.sales_prior_information=e.target.value)}}})]),e("b-container",{staticClass:"border my-5"},[e("h5",{staticClass:"mt-3"},[t._v("通知先設定")]),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("営業")])],1),e("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.sales_list,stacked:""},model:{value:t.users_list,callback:function(e){t.users_list=e},expression:"users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("アシスタント")])],1),e("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.assistant_list,stacked:""},model:{value:t.users_list,callback:function(e){t.users_list=e},expression:"users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("生産管理")])],1),e("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.production_control_list,stacked:""},model:{value:t.users_list,callback:function(e){t.users_list=e},expression:"users_list"}})],1)],1)],1)],1)],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],attrs:{block:"",variant:"outline-primary"}},[t._v("購買")])],1),e("b-collapse",{attrs:{id:"accordion-4",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[e("b-form-checkbox-group",{attrs:{options:t.purchase_list,stacked:""},model:{value:t.users_list,callback:function(e){t.users_list=e},expression:"users_list"}})],1)],1)],1)],1)],1)],1)],1),e("b-container",{staticClass:"text-center my-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"parent-link",attrs:{to:{name:"home"}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v("送信")])],1)])],1)],1)],1)},Yt=[];const Lt=v.a.create({baseURL:"/api/v1/",timeout:5e3,headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"}});Lt.interceptors.request.use(t=>{k.dispatch("message/clearMessages");const e=localStorage.getItem("access");return e?(t.headers.Authorization="JWT "+e,t):t},t=>Promise.reject(t)),Lt.interceptors.response.use(t=>t,t=>{console.log("error.response=",t.response);const e=t.response?t.response.status:500;let s;if(400===e){const e=[].concat.apply([],Object.values(t.response.data));k.dispatch("message/setWarningMessages",{messages:e})}else if(401===e){const t=localStorage.getItem("access");s=null!=t?"ログイン有効期限切れ":"認証エラー",k.dispatch("auth/logout"),k.dispatch("message/setErrorMessage",{message:s})}else 403===e?(s="権限エラーです。",k.dispatch("message/setErrorMessage",{message:s})):(s="想定外のエラーです。",k.dispatch("message/setErrorMessage",{message:s}));return Promise.reject(t)});var Ft=Lt;const Xt=1,Vt=2,Wt=3,Rt=4,Bt=5,Ut=0,Jt=1;var Kt={components:{GlobalHeader:Y,GlobalMessage:R},name:"ParentCreate",data(){return{parent_name:null,parent_figure_number:null,necessary_amount:null,customer_list:[],customer_dict:{},customer_dict2:{},assistant_list:[],assistant_list2:[{value:null,text:"----"}],sales_list:[],sales_list2:[{value:null,text:"----"}],production_control_list:[],production_control_list2:[{value:null,text:"----"}],purchase_list:[],customer_name:null,customer_id:null,assistant:null,sales:null,production_control:null,order_status:null,assy:null,estimate_answer:null,desired_delivery_date:null,material_big:null,material_big_options:[{value:null,text:"----"},{value:0,text:"自社材"},{value:1,text:"購入材"},{value:2,text:"支給材"}],material_list:null,material_dict:{},material_id:null,material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null,delivery_form:null,delivery_form_options:[{value:null,text:"----"},{value:0,text:"バラ"},{value:1,text:"フレーム"},{value:2,text:"シート"}],sales_prior_information:null,production_checklist:null,similar_directions_number:null,product_affinity_number:null,formData:null,parent_id:null,file_name:null,file_created_at:null,file_author:null,author:null,users_list:[],assy_options:[{text:"単品",value:"0"},{text:"積層品",value:"1"}]}},computed:{username:function(){return this.$store.state.auth.username}},methods:{change_material(){this.material_id in this.material_dict?(this.material_shape=this.material_dict[this.material_id][0],this.material_sml_txt=this.material_dict[this.material_id][1],this.material_symbol=this.material_dict[this.material_id][2],this.hardness=this.material_dict[this.material_id][3],this.sheet_thickness=this.material_dict[this.material_id][4],this.material_size_w=this.material_dict[this.material_id][5],this.material_size_l=this.material_dict[this.material_id][6]):(this.material_shape=null,this.material_sml_txt=null,this.material_symbol=null,this.hardness=null,this.sheet_thickness=null,this.material_size_w=null,this.material_size_l=null)},selectedFile:function(t){t.preventDefault();let e=t.target.files;this.uploadFile=e[0],this.formData=new FormData,this.formData.append("file",this.uploadFile,this.uploadFile.name),this.file_name=this.uploadFile.name,this.file_created_at=S()().format(),this.file_author=this.author},changeCustomerId(){this.customer_name in this.customer_dict2?(this.customer_id=this.customer_dict2[this.customer_name][0],this.assistant=this.customer_dict2[this.customer_name][1],this.sales=this.customer_dict2[this.customer_name][2],this.production_control=this.customer_dict2[this.customer_name][3]):(this.customer_id=null,this.assistant=null,this.sales=null,this.production_control=null)},changeCustomerName(){this.customer_id in this.customer_dict?(this.customer_name=this.customer_dict[this.customer_id][0],this.assistant=this.customer_dict[this.customer_id][1],this.sales=this.customer_dict[this.customer_id][2],this.production_control=this.customer_dict[this.customer_id][3]):(this.customer_name=null,this.assistant=null,this.sales=null,this.production_control=null)},submitSave:function(){""===this.estimate_answer&&(this.estimate_answer=null),""===this.desired_delivery_date&&(this.desired_delivery_date=null),g({method:"POST",url:"/parents/",data:{author:this.author,status:Ut,parent_name:this.parent_name,parent_figure_number:this.parent_figure_number,necessary_amount:this.necessary_amount,customer_id:this.customer_id,assistant:this.assistant,sales:this.sales,production_control:this.production_control,order_status:this.order_status,assy:this.assy,estimate_answer:this.estimate_answer,desired_delivery_date:this.desired_delivery_date,material_big:this.material_big,material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l,delivery_form:this.delivery_form,sales_prior_information:this.sales_prior_information,production_checklist:this.production_checklist,similar_directions_number:this.similar_directions_number,product_affinity_number:this.product_affinity_number,file_name:this.file_name,file_created_at:this.file_created_at,file_author:this.file_author}}).then(t=>{this.parent_id=t.data.parent_id,this.users_list.includes(this.assistant)||this.users_list.push(this.assistant),this.users_list.includes(this.sales)||this.users_list.push(this.sales),this.users_list.includes(this.production_control)||this.users_list.push(this.production_control);for(let e=0;e<this.users_list.length;e++)g({method:"POST",url:"/bells/",data:{user:this.users_list[e],parent_id:this.parent_id,is_active:!0,updated_at:S()().format(),updated_user:this.author,message_number:Jt}});this.formData&&Ft({method:"PATCH",url:`/files/${this.parent_id}/`,data:this.formData}),this.$router.push({name:"parent",params:{parent_id:this.parent_id}})})},createDict:function(){g({method:"GET",url:"/materials/"}).then(t=>{this.material_list=t.data;for(let e=0;e<t.data.length;e++)this.material_dict[t.data[e].material_id]=[t.data[e].material_shape,t.data[e].material_sml_txt,t.data[e].material_symbol,t.data[e].hardness,t.data[e].sheet_thickness,t.data[e].material_size_w,t.data[e].material_size_l]}),g({method:"GET",url:"/customers/"}).then(t=>{this.customer_list=t.data;for(let e=0;e<t.data.length;e++)this.customer_dict[t.data[e].customer_id]=[t.data[e].customer_name,t.data[e].assistant,t.data[e].sales,t.data[e].production_control],this.customer_dict2[t.data[e].customer_name]=[t.data[e].customer_id,t.data[e].assistant,t.data[e].sales,t.data[e].production_control]}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.author=t.data[0].id,this.users_list.includes(this.author)||this.users_list.push(this.author)}),g({method:"GET",url:`/getusers/${Wt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.users_list.includes(t.data[e].id)||this.users_list.push(t.data[e].id)}),g({method:"GET",url:`/getusers/${Vt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.assistant_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name}),this.assistant_list2.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${Xt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.sales_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name}),this.sales_list2.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${Rt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.production_control_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name}),this.production_control_list2.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${Bt}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.purchase_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})})}},created(){this.createDict()}},Zt=Kt,te=Object(m["a"])(Zt,At,Yt,!1,null,null,null),ee=te.exports,se=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-3"},[e("h2",[t._v("図面精査依頼")])]),e("b-container",[e("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border"},[e("h5",{staticClass:"mt-3"},[t._v("製品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("(組図)品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-input",{attrs:{type:"text"},model:{value:t.parent_name,callback:function(e){t.parent_name=e},expression:"parent_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("(組)図番")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-input",{attrs:{type:"text"},model:{value:t.parent_figure_number,callback:function(e){t.parent_figure_number=e},expression:"parent_figure_number"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("顧客情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("顧客名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"12",md:"9"}},[e(Ht["a"],{attrs:{items:t.customer_list,"item-text":"customer_name",label:"顧客名"},on:{change:t.changeCustomerId},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("顧客ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e(Ht["a"],{attrs:{items:t.customer_list,"item-text":"customer_id",label:"顧客ID"},on:{change:t.changeCustomerName},model:{value:t.customer_id,callback:function(e){t.customer_id=e},expression:"customer_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("営業担当")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.sales_list},model:{value:t.sales,callback:function(e){t.sales=e},expression:"sales"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("アシスタント")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.assistant_list},model:{value:t.assistant,callback:function(e){t.assistant=e},expression:"assistant"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("生産管理")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-form-select",{attrs:{options:t.production_control_list},model:{value:t.production_control,callback:function(e){t.production_control=e},expression:"production_control"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("見積情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("必要数")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-input",{attrs:{type:"text"},model:{value:t.necessary_amount,callback:function(e){t.necessary_amount=e},expression:"necessary_amount"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("納入形態")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.delivery_form_options},model:{value:t.delivery_form,callback:function(e){t.delivery_form=e},expression:"delivery_form"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("見積回答")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-input",{attrs:{type:"date"},model:{value:t.estimate_answer,callback:function(e){t.estimate_answer=e},expression:"estimate_answer"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("希望納期")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"3"}},[e("b-input",{attrs:{type:"date"},model:{value:t.desired_delivery_date,callback:function(e){t.desired_delivery_date=e},expression:"desired_delivery_date"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("材料")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料種類")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.material_big_options},model:{value:t.material_big,callback:function(e){t.material_big=e},expression:"material_big"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e(Ht["a"],{attrs:{dense:"",items:t.material_list,"item-text":"material_id"},on:{change:t.change_material},model:{value:t.material_id,callback:function(e){t.material_id=e},expression:"material_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料形状")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材質")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("記号")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("硬度・仕上げ")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("板厚")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズW")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズL")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("類似品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("類似指示書No.")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"6"}},[e("b-input",{attrs:{type:"text"},model:{value:t.similar_directions_number,callback:function(e){t.similar_directions_number=e},expression:"similar_directions_number"}})],1)],1)],1),e("b-container",{staticClass:"border my-5"},[e("h5",{staticClass:"mt-3"},[t._v("添付ファイル(zip形式)")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("現在のファイル")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{sm:"12"}},[t._v(t._s(this.file_name))])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("input",{attrs:{type:"file",name:"file"},on:{change:t.selectedFile}})])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("連絡事項")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sales_prior_information,expression:"sales_prior_information"}],staticClass:"form-control mb-3",attrs:{type:"text",rows:"5"},domProps:{value:t.sales_prior_information},on:{input:function(e){e.target.composing||(t.sales_prior_information=e.target.value)}}})]),e("b-container",{staticClass:"text-center my-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"parent-link",attrs:{to:{name:"parent",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1)],1)},ae=[];const ie=1,re=2,le=4;var oe={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0}},data(){return{parent_name:null,parent_figure_number:null,necessary_amount:null,customer_list:[],customer_dict:{},customer_dict2:{},assistant_list:[{value:null,text:"----"}],sales_list:[{value:null,text:"----"}],production_control_list:[{value:null,text:"----"}],customer_name:null,customer_id:null,assistant:null,sales:null,production_control:null,order_status:null,assy:null,estimate_answer:null,desired_delivery_date:null,material_big:null,material_big_options:[{value:null,text:"----"},{value:0,text:"自社材"},{value:1,text:"購入材"},{value:2,text:"支給材"}],material_list:[],material_dict:{},material_id:null,material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null,delivery_form:null,delivery_form_options:[{value:null,text:"----"},{value:0,text:"バラ"},{value:1,text:"フレーム"},{value:2,text:"シート"}],sales_prior_information:null,production_checklist:null,similar_directions_number:null,product_affinity_number:null,formData:null,file:null,file_name:null,file_created_at:null,file_author:null,author:null,assy_options:[{text:"単品",value:"0"},{text:"積層品",value:"1"}]}},computed:{username:function(){return this.$store.state.auth.username}},methods:{change_material(){this.material_id in this.material_dict?(this.material_shape=this.material_dict[this.material_id][0],this.material_sml_txt=this.material_dict[this.material_id][1],this.material_symbol=this.material_dict[this.material_id][2],this.hardness=this.material_dict[this.material_id][3],this.sheet_thickness=this.material_dict[this.material_id][4],this.material_size_w=this.material_dict[this.material_id][5],this.material_size_l=this.material_dict[this.material_id][6]):(this.material_shape=null,this.material_sml_txt=null,this.material_symbol=null,this.hardness=null,this.sheet_thickness=null,this.material_size_w=null,this.material_size_l=null)},createDict:function(){g({method:"GET",url:"/materials/"}).then(t=>{if(t.data){this.material_list=t.data;for(let e=0;e<t.data.length;e++)this.material_dict[t.data[e].material_id]=[t.data[e].material_shape,t.data[e].material_sml_txt,t.data[e].material_symbol,t.data[e].hardness,t.data[e].sheet_thickness,t.data[e].material_size_w,t.data[e].material_size_l]}}),g({method:"GET",url:"/customers/"}).then(t=>{this.customer_list=t.data;for(let e=0;e<t.data.length;e++)this.customer_dict[t.data[e].customer_id]=[t.data[e].customer_name,t.data[e].assistant,t.data[e].sales,t.data[e].production_control],this.customer_dict2[t.data[e].customer_name]=[t.data[e].customer_id,t.data[e].assistant,t.data[e].sales,t.data[e].production_control]}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.author=t.data[0].id}),g({method:"GET",url:`/getusers/${re}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.assistant_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${ie}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.sales_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})}),g({method:"GET",url:`/getusers/${le}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.production_control_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name})})},selectedFile:function(t){t.preventDefault();let e=t.target.files;this.uploadFile=e[0],this.formData=new FormData,this.formData.append("file",this.uploadFile,this.uploadFile.name),this.file_name=this.uploadFile.name,this.file_created_at=S()().format(),this.file_author=this.author},changeCustomerId(){this.customer_name in this.customer_dict2?(this.customer_id=this.customer_dict2[this.customer_name][0],this.assistant=this.customer_dict2[this.customer_name][1],this.sales=this.customer_dict2[this.customer_name][2],this.production_control=this.customer_dict2[this.customer_name][3]):(this.customer_id=null,this.assistant=null,this.sales=null,this.production_control=null)},changeCustomerName(){this.customer_id in this.customer_dict?(this.customer_name=this.customer_dict[this.customer_id][0],this.assistant=this.customer_dict[this.customer_id][1],this.sales=this.customer_dict[this.customer_id][2],this.production_control=this.customer_dict[this.customer_id][3]):(this.customer_name=null,this.assistant=null,this.sales=null,this.production_control=null)},submitSave:function(){""===this.estimate_answer&&(this.estimate_answer=null),""===this.desired_delivery_date&&(this.desired_delivery_date=null),g({method:"PUT",url:`/parents/${this.parent_id}/`,data:{parent_id:this.parent_id,parent_name:this.parent_name,parent_figure_number:this.parent_figure_number,necessary_amount:this.necessary_amount,customer_name:this.customer_name,customer_id:this.customer_id,assistant:this.assistant,sales:this.sales,production_control:this.production_control,order_status:this.order_status,assy:this.assy,estimate_answer:this.estimate_answer,desired_delivery_date:this.desired_delivery_date,material_big:this.material_big,material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l,delivery_form:this.delivery_form,sales_prior_information:this.sales_prior_information,production_checklist:this.production_checklist,similar_directions_number:this.similar_directions_number,product_affinity_number:this.product_affinity_number,file_name:this.file_name,file_created_at:this.file_created_at,file_author:this.file_author}}).then(t=>{this.formData&&Ft({method:"PATCH",url:`/files/${t.data.parent_id}/`,data:this.formData}),this.$router.push({name:"parent",params:{parent_id:t.data.parent_id}})})}},async beforeRouteEnter(t,e,s){let a=`/parents/${t.params.parent_id}/`,i=await g({url:a});return s(t=>{t.parent_name=i.data.parent_name,t.parent_figure_number=i.data.parent_figure_number,t.necessary_amount=i.data.necessary_amount,t.customer_name=i.data.customer_name,t.customer_id=i.data.customer_id,t.assistant=i.data.assistant,t.sales=i.data.sales,t.production_control=i.data.production_control,t.order_status=i.data.order_status,t.assy=i.data.assy,t.estimate_answer=i.data.estimate_answer,t.desired_delivery_date=i.data.desired_delivery_date,t.material_big=i.data.material_big,t.material_id=i.data.material_id,t.material_shape=i.data.material_shape,t.material_sml_txt=i.data.material_sml_txt,t.material_symbol=i.data.material_symbol,t.hardness=i.data.hardness,t.sheet_thickness=i.data.sheet_thickness,t.material_size_w=i.data.material_size_w,t.material_size_l=i.data.material_size_l,t.delivery_form=i.data.delivery_form,t.sales_prior_information=i.data.sales_prior_information,t.production_checklist=i.data.production_checklist,t.similar_directions_number=i.data.similar_directions_number,t.product_affinity_number=i.data.product_affinity_number,t.file=i.data.file,t.file_name=i.data.file_name,t.file_created_at=i.data.file_created_at,t.file_author=i.data.file_author})},created(){this.createDict()}},ne=oe,ce=Object(m["a"])(ne,se,ae,!1,null,null,null),_e=ce.exports,me=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-5",attrs:{fluid:"xl"}},[e("h2",[t._v("図面精査内容")])]),t.child?e("b-container",{staticClass:"border",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("エッチング品ID")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.child_id))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("品名")]),e("b-col",{staticClass:"border",attrs:{cols:"10"}},[t._v(t._s(t.child.child_name))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("図番")]),e("b-col",{staticClass:"border",attrs:{cols:"10"}},[t._v(t._s(t.child.child_figure_number))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.child.material_big?e("div",[t._v("自社材")]):1===t.child.material_big?e("div",[t._v("購入材")]):2===t.child.material_big?e("div",[t._v("支給材")]):e("div",[t._v(t._s(t.child.material_big))])]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料ID")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.material_id))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("記号")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.material_symbol))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("硬度仕上げ")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.hardness))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("板厚")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.child.sheet_thickness?e("div",[t._v(t._s(t.child.sheet_thickness)+" μm")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("材料サイズ")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.child.material_size_w||t.child.material_size_l?e("div",[t._v(" "+t._s(t.child.material_size_w)+" × "+t._s(t.child.material_size_l)+" mm ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("製品サイズX方向")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.child.size_x?e("div",[t._v(t._s(t.child.size_x)+" mm")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("製品サイズY方向")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.child.size_y?e("div",[t._v(t._s(t.child.size_y)+" mm")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("個/シート")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.imposition_amount_piece_seat))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("個/フレーム")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.imposition_amount_piece_flame))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("フレーム/シート")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.child.imposition_amount_flame_seat))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"12"}},[t._v("確認事項")])],1),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-textarea",{staticClass:"bg-white",attrs:{rows:"3",disabled:""},model:{value:t.child.fixes,callback:function(e){t.$set(t.child,"fixes",e)},expression:"child.fixes"}})],1)],1),e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}],staticClass:"my-3 text-center"},[e("b-col",[e("router-link",{attrs:{to:{name:"child_editor",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1),e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"danger"},on:{click:t.deleteChildData}},[t._v("削除")])],1)],1)],1):t._e(),e("SpecialProcessVue",{attrs:{parent_id:t.parent_id,child_id:t.child_id}}),e("OutsourcingVue",{attrs:{parent_id:t.parent_id,child_id:t.child_id}}),e("ProcessFlowVue",{attrs:{parent_id:t.parent_id,child_id:t.child_id}}),e("MaskListVue",{attrs:{parent_id:t.parent_id,child_id:t.child_id}}),e("b-container",{staticClass:"my-3 text-center"},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1)],1)],1)},de=[],ue=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3"},[e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("h3",[t._v("社内特殊工程")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"special_process_editor",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1),e("b-container",[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("工程名")])],1),t._l(t.operations,(function(s){return e("b-row",{key:s.operation_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.operation_name))])],1)}))],2)],1)},be=[];const he=3;var pe={props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{group:null,seigi_bool:null,operations:null}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(he)}),g({method:"GET",url:`/getoperations/${this.child_id}/2/`}).then(t=>{this.operations=t.data})}},created(){this.getData()}},ve=pe,fe=Object(m["a"])(ve,ue,be,!1,null,null,null),ge=fe.exports,xe=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3"},[e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("h3",[t._v("外注工程")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"outsourcing_editor",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1),e("b-container",[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("工程名")]),e("b-col",{staticClass:"bg-dark border text-light"},[t._v("外注先")])],1),t._l(t.operations,(function(s){return e("b-row",{key:s.operation_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.operation_name))]),e("b-col",{staticClass:"border"},[t._v(t._s(s.company_name))])],1)}))],2)],1)},Ce=[],we={props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{group:null,seigi_bool:null,operations:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)}),g({method:"GET",url:`/getoperations/${this.child_id}/1/`}).then(t=>{this.operations=t.data})}},created(){this.getData()}},ke=we,ye=Object(m["a"])(ke,xe,Ce,!1,null,null,null),ze=ye.exports,je=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3"},[e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("h3",[t._v("工程フロー")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"process_flow_editor",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1),e("b-container",{staticClass:"mb-5"},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("工程番号")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("工程名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("加工場所")]),e("b-col",{staticClass:"bg-dark border text-light"},[t._v("外注先")])],1),t._l(t.operations,(function(s){return e("b-row",{key:s.index},[e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(s.index+1))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(s.operation_name))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[1==s.is_outsourcing?e("div",[t._v("外注")]):0==s.is_outsourcing||2==s.is_outsourcing?e("div",[t._v("社内")]):t._e()]),e("b-col",{staticClass:"border"},[t._v(t._s(s.company_name))])],1)}))],2)],1)},$e=[],Ge={props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{group:null,seigi_bool:null,operations:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)}),g({method:"GET",url:`/get_children_operations/${this.child_id}/`}).then(t=>{this.operations=t.data})}},created(){this.getData()}},qe=Ge,De=Object(m["a"])(qe,je,$e,!1,null,null,null),Ne=De.exports,Me=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3"},[e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("h3",[t._v("マスク")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"mask_create",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"primary"}},[t._v("新規登録")])],1)],1)],1)],1),e("b-container",{staticClass:"mb-5"},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("マスクID")])],1),t._l(t.masks,(function(s){return e("b-row",{key:s.mask_id},[e("b-col",{staticClass:"border"},[e("router-link",{attrs:{to:{name:"mask",params:{parent_id:t.parent_id,child_id:t.child_id,mask_id:s.mask_id}}}},[t._v(t._s(s.mask_id)+" ")])],1)],1)}))],2)],1)},Ee=[];const Se=3;var Te={props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{group:null,seigi_bool:null,masks:null}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(Se)}),g({method:"GET",url:`/children/${this.child_id}/masks/`}).then(t=>{this.masks=t.data})}},created(){this.getData()}},Pe=Te,Ie=Object(m["a"])(Pe,Me,Ee,!1,null,null,null),Oe=Ie.exports,Qe={components:{GlobalHeader:Y,GlobalMessage:R,SpecialProcessVue:ge,OutsourcingVue:ze,ProcessFlowVue:Ne,MaskListVue:Oe},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{child:null,group:null,seigi_bool:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getChildData:function(){g({method:"get",url:`/children/${this.child_id}/`}).then(t=>{this.child=t.data}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)})},deleteChildData:function(){var t=window.confirm("削除してもよろしいですか？");t&&g({method:"delete",url:`/children/${this.child_id}/`}).then(()=>{this.$router.push({name:"parent",params:{parent_id:this.parent_id}})})}},created(){this.getChildData()}},He=Qe,Ae=Object(m["a"])(He,me,de,!1,null,null,null),Ye=Ae.exports,Le=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-3"},[e("h2",[t._v("図面精査内容編集")])]),e("b-container",{staticClass:"mb-5"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border"},[e("h5",{staticClass:"mt-3"},[t._v("製品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.child_name,callback:function(e){t.child_name=e},expression:"child_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("図番")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.child_figure_number,callback:function(e){t.child_figure_number=e},expression:"child_figure_number"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("材料")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料種類")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.material_big_options},model:{value:t.material_big,callback:function(e){t.material_big=e},expression:"material_big"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e(Ht["a"],{attrs:{dense:"",items:t.material_list,"item-text":"material_id"},on:{change:t.changeMaterial},model:{value:t.material_id,callback:function(e){t.material_id=e},expression:"material_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料形状")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材質")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("記号")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("硬度・仕上げ")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("板厚")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズW")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズL")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("面付け数")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("製品サイズ")])])],1),e("b-row",[e("b-col",[t._v(" X方向 ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.size_x,callback:function(e){t.size_x=e},expression:"size_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[t._v(" Y方向 ")])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.size_y,callback:function(e){t.size_y=e},expression:"size_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面付け数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_seat,callback:function(e){t.imposition_amount_piece_seat=e},expression:"imposition_amount_piece_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/シート")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_flame,callback:function(e){t.imposition_amount_piece_flame=e},expression:"imposition_amount_piece_flame"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/フレーム")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_flame_seat,callback:function(e){t.imposition_amount_flame_seat=e},expression:"imposition_amount_flame_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("フレーム/シート")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("確認事項")]),e("b-form-textarea",{staticClass:"mb-3",attrs:{type:"text",rows:"5"},model:{value:t.fixes,callback:function(e){t.fixes=e},expression:"fixes"}})],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1)],1)},Fe=[],Xe={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{child_name:null,child_figure_number:null,material_big:null,material_big_options:[{value:null,text:"----"},{value:0,text:"自社材"},{value:1,text:"購入材"},{value:2,text:"支給材"}],material_list:[],material_dict:{},material_id:null,material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null,imposition_amount_piece_seat:null,imposition_amount_piece_flame:null,imposition_amount_flame_seat:null,fixes:null,size_x:null,size_y:null,effect_size_w:null,effect_size_l:null,correction:null,without_fee:null,between_products:null,size_x_2:null,size_y_2:null,imposition_amount_direction_x:null,imposition_amount_direction_y:null,sheet_thickness_mm:null}},computed:{username:function(){return this.$store.state.auth.username}},methods:{changePieceSeat(){this.material_size_w&&this.material_size_l&&this.sheet_thickness&&this.size_x&&this.size_y?(this.effect_size_w=Number(this.material_size_w)-20,this.effect_size_l=Number(this.material_size_l)-30,this.sheet_thickness_mm=.001*Number(this.sheet_thickness),Number(this.sheet_thickness_mm)<=.06?this.correction=.01:Number(this.sheet_thickness_mm)>.06&&Number(this.sheet_thickness_mm)<=.5?this.correction=.25*Number(this.sheet_thickness_mm)-.005:this.correction=.15*Number(this.sheet_thickness_mm),Number(this.sheet_thickness_mm)>.3?this.without_fee=this.sheet_thickness_mm:this.without_fee=.3,Number(this.sheet_thickness_mm)<.5?this.between_products=1:this.between_products=2*Number(this.sheet_thickness_mm),Number(this.sheet_thickness_mm)<.2?this.size_x_2=Number(this.size_x)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+.3+Number(this.between_products):this.size_x_2=Number(this.size_x)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+Number(this.without_fee)+Number(this.between_products),Number(this.sheet_thickness)<200?this.size_y_2=Number(this.size_y)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+.3+Number(this.between_products):this.size_y_2=Number(this.size_y)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+Number(this.without_fee)+Number(this.between_products),this.imposition_amount_direction_x=Math.floor(Number(this.effect_size_w)/Number(this.size_x_2)),this.imposition_amount_direction_y=Math.floor(Number(this.effect_size_l)/Number(this.size_y_2)),this.imposition_amount_piece_seat=Number(this.imposition_amount_direction_x)*Number(this.imposition_amount_direction_y)):this.imposition_amount_piece_seat=null},createDict:function(){g({method:"GET",url:"/materials/"}).then(t=>{this.material_list=t.data;for(let e=0;e<t.data.length;e++)this.material_dict[t.data[e].material_id]=[t.data[e].material_shape,t.data[e].material_sml_txt,t.data[e].material_symbol,t.data[e].hardness,t.data[e].sheet_thickness,t.data[e].material_size_w,t.data[e].material_size_l]})},changeMaterial(){this.material_id in this.material_dict?(this.material_shape=this.material_dict[this.material_id][0],this.material_sml_txt=this.material_dict[this.material_id][1],this.material_symbol=this.material_dict[this.material_id][2],this.hardness=this.material_dict[this.material_id][3],this.sheet_thickness=this.material_dict[this.material_id][4],this.material_size_w=this.material_dict[this.material_id][5],this.material_size_l=this.material_dict[this.material_id][6]):(this.material_shape=null,this.material_sml_txt=null,this.material_symbol=null,this.hardness=null,this.sheet_thickness=null,this.material_size_w=null,this.material_size_l=null),this.changePieceSeat()},submitSave:function(){""==this.size_x&&(this.size_x=null),""==this.size_y&&(this.size_y=null),""==this.imposition_amount_piece_seat&&(this.imposition_amount_piece_seat=null),""==this.imposition_amount_piece_flame&&(this.imposition_amount_piece_flame=null),""==this.imposition_amount_flame_seat&&(this.imposition_amount_flame_seat=null),g({method:"PATCH",url:`/children/${this.child_id}/`,data:{child_name:this.child_name,child_figure_number:this.child_figure_number,material_big:this.material_big,material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l,imposition_amount_piece_seat:this.imposition_amount_piece_seat,imposition_amount_piece_flame:this.imposition_amount_piece_flame,imposition_amount_flame_seat:this.imposition_amount_flame_seat,fixes:this.fixes,size_x:this.size_x,size_y:this.size_y}}).then(t=>{this.$router.push({name:"child",params:{parent_id:t.data.parent_id,child_id:t.data.child_id}})})}},async beforeRouteEnter(t,e,s){let a=`/children/${t.params.child_id}/`,i=await g({url:a});return s(t=>{t.child_name=i.data.child_name,t.child_figure_number=i.data.child_figure_number,t.material_big=i.data.material_big,t.material_id=i.data.material_id,t.material_shape=i.data.material_shape,t.material_sml_txt=i.data.material_sml_txt,t.material_symbol=i.data.material_symbol,t.hardness=i.data.hardness,t.sheet_thickness=i.data.sheet_thickness,t.material_size_w=i.data.material_size_w,t.material_size_l=i.data.material_size_l,t.imposition_amount_piece_seat=i.data.imposition_amount_piece_seat,t.imposition_amount_piece_flame=i.data.imposition_amount_piece_flame,t.imposition_amount_flame_seat=i.data.imposition_amount_flame_seat,t.fixes=i.data.fixes,t.size_x=i.data.size_x,t.size_y=i.data.size_y})},created(){this.createDict()}},Ve=Xe,We=Object(m["a"])(Ve,Le,Fe,!1,null,null,null),Re=We.exports,Be=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"create-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-3"},[e("h2",[t._v("図面精査内容新規登録")])]),e("b-container",{staticClass:"mb-5"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border"},[e("h5",{staticClass:"mt-3"},[t._v("製品情報")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.child_name,callback:function(e){t.child_name=e},expression:"child_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("図番")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.child_figure_number,callback:function(e){t.child_figure_number=e},expression:"child_figure_number"}})],1)],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("材料")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料種類")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.material_big_options},model:{value:t.material_big,callback:function(e){t.material_big=e},expression:"material_big"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料ID")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e(Ht["a"],{attrs:{dense:"",items:t.material_list,"item-text":"material_id"},on:{change:t.changeMaterial},model:{value:t.material_id,callback:function(e){t.material_id=e},expression:"material_id"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料形状")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材質")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("記号")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("硬度・仕上げ")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("板厚")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズW")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("材料サイズL")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("面付け数")]),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("製品サイズ")])])],1),e("b-row",[e("b-col",[t._v(" X方向 ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.size_x,callback:function(e){t.size_x=e},expression:"size_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[t._v(" Y方向 ")])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"text"},on:{change:t.changePieceSeat},model:{value:t.size_y,callback:function(e){t.size_y=e},expression:"size_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面付け数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_seat,callback:function(e){t.imposition_amount_piece_seat=e},expression:"imposition_amount_piece_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/シート")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_flame,callback:function(e){t.imposition_amount_piece_flame=e},expression:"imposition_amount_piece_flame"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/フレーム")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_flame_seat,callback:function(e){t.imposition_amount_flame_seat=e},expression:"imposition_amount_flame_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("フレーム/シート")])])],1)],1),e("b-container",{staticClass:"border mt-5"},[e("h5",{staticClass:"mt-3"},[t._v("確認事項")]),e("b-form-textarea",{staticClass:"mb-3",attrs:{type:"text",rows:"5"},model:{value:t.fixes,callback:function(e){t.fixes=e},expression:"fixes"}})],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:t.parent_id}}}},[e("b-button",{attrs:{variant:"light"}},[t._v("戻る")])],1),t._v("  "),e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("送信")])],1)])],1)],1)],1)},Ue=[],Je={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0}},data(){return{child_name:null,child_figure_number:null,material_big:null,material_big_options:[{value:null,text:"----"},{value:0,text:"自社材"},{value:1,text:"購入材"},{value:2,text:"支給材"}],material_list:[],material_dict:{},material_id:null,material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null,imposition_amount_piece_seat:null,imposition_amount_piece_flame:null,imposition_amount_flame_seat:null,fixes:null,size_x:null,size_y:null,effect_size_w:null,effect_size_l:null,correction:null,without_fee:null,between_products:null,size_x_2:null,size_y_2:null,imposition_amount_direction_x:null,imposition_amount_direction_y:null,sheet_thickness_mm:null}},methods:{changePieceSeat(){this.material_size_w&&this.material_size_l&&this.sheet_thickness&&this.size_x&&this.size_y?(this.effect_size_w=Number(this.material_size_w)-20,this.effect_size_l=Number(this.material_size_l)-30,this.sheet_thickness_mm=.001*Number(this.sheet_thickness),Number(this.sheet_thickness_mm)<=.06?this.correction=.01:Number(this.sheet_thickness_mm)>.06&&Number(this.sheet_thickness_mm)<=.5?this.correction=.25*Number(this.sheet_thickness_mm)-.005:this.correction=.15*Number(this.sheet_thickness_mm),Number(this.sheet_thickness_mm)>.3?this.without_fee=this.sheet_thickness_mm:this.without_fee=.3,Number(this.sheet_thickness_mm)<.5?this.between_products=1:this.between_products=2*Number(this.sheet_thickness_mm),Number(this.sheet_thickness_mm)<.2?this.size_x_2=Number(this.size_x)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+.3+Number(this.between_products):this.size_x_2=Number(this.size_x)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+Number(this.without_fee)+Number(this.between_products),Number(this.sheet_thickness)<200?this.size_y_2=Number(this.size_y)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+.3+Number(this.between_products):this.size_y_2=Number(this.size_y)+2*Number(this.sheet_thickness_mm)+2*Number(this.correction)+Number(this.without_fee)+Number(this.between_products),this.imposition_amount_direction_x=Math.floor(Number(this.effect_size_w)/Number(this.size_x_2)),this.imposition_amount_direction_y=Math.floor(Number(this.effect_size_l)/Number(this.size_y_2)),this.imposition_amount_piece_seat=Number(this.imposition_amount_direction_x)*Number(this.imposition_amount_direction_y)):this.imposition_amount_piece_seat=null},changeMaterial(){this.material_id in this.material_dict?(this.material_shape=this.material_dict[this.material_id][0],this.material_sml_txt=this.material_dict[this.material_id][1],this.material_symbol=this.material_dict[this.material_id][2],this.hardness=this.material_dict[this.material_id][3],this.sheet_thickness=this.material_dict[this.material_id][4],this.material_size_w=this.material_dict[this.material_id][5],this.material_size_l=this.material_dict[this.material_id][6]):(this.material_shape=null,this.material_sml_txt=null,this.material_symbol=null,this.hardness=null,this.sheet_thickness=null,this.material_size_w=null,this.material_size_l=null),this.changePieceSeat()},submitSave:function(){this.correction&&(this.correction=1e3*Number(this.correction)),this.without_fee&&(this.without_fee=Math.round(1e3*Number(this.without_fee))),"アルミ"!=this.material_sml_txt&&this.material_sml_txt&&(this.drop_technique=0),""==this.size_x&&(this.size_x=null),""==this.size_y&&(this.size_y=null),""==this.imposition_amount_piece_seat&&(this.imposition_amount_piece_seat=null),""==this.imposition_amount_piece_flame&&(this.imposition_amount_piece_flame=null),""==this.imposition_amount_flame_seat&&(this.imposition_amount_flame_seat=null),g({method:"POST",url:"/children/",data:{parent_id:this.parent_id,child_name:this.child_name,child_figure_number:this.child_figure_number,material_big:this.material_big,material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l,imposition_amount_piece_seat:this.imposition_amount_piece_seat,imposition_amount_piece_flame:this.imposition_amount_piece_flame,imposition_amount_flame_seat:this.imposition_amount_flame_seat,fixes:this.fixes,size_x:this.size_x,size_y:this.size_y}}).then(t=>{this.$router.push({name:"child",params:{parent_id:t.data.parent_id,child_id:t.data.child_id}})})},createDict:function(){g({method:"GET",url:"/materials/"}).then(t=>{this.material_list=t.data;for(let e=0;e<t.data.length;e++)this.material_dict[t.data[e].material_id]=[t.data[e].material_shape,t.data[e].material_sml_txt,t.data[e].material_symbol,t.data[e].hardness,t.data[e].sheet_thickness,t.data[e].material_size_w,t.data[e].material_size_l]})}},async beforeRouteEnter(t,e,s){let a=`/parents/${t.params.parent_id}/`,i=await g({url:a});return s(t=>{t.child_name=i.data.parent_name,t.child_figure_number=i.data.parent_figure_number,t.material_big=i.data.material_big,t.material_id=i.data.material_id,t.material_shape=i.data.material_shape,t.material_sml_txt=i.data.material_sml_txt,t.material_symbol=i.data.material_symbol,t.hardness=i.data.hardness,t.sheet_thickness=i.data.sheet_thickness,t.material_size_w=i.data.material_size_w,t.material_size_l=i.data.material_size_l})},created(){this.createDict()}},Ke=Je,Ze=Object(m["a"])(Ke,Be,Ue,!1,null,null,null),ts=Ze.exports,es=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3",attrs:{fluid:""}},[e("h2",[t._v("マスク")])]),t.mask?e("b-container",{staticClass:"border",attrs:{fluid:""}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("マスクID")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.mask.mask_id))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("落下方法")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.mask.drop_technique?e("div",[t._v("べた黒")]):1===t.mask.drop_technique?e("div",[t._v("引き回し")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("補正")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.correction?e("div",[t._v("片側 "+t._s(t.mask.correction)+" μm")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("抜き代")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.without_fee?e("div",[t._v(t._s(t.mask.without_fee)+" μm")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ピッチ補正")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[0===t.mask.pitch_correction?e("div",[t._v("有")]):1===t.mask.pitch_correction?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("X方向補正")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.direction_x?e("div",[t._v(t._s(t.mask.direction_x)+" μm")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("Y方向補正")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.direction_y?e("div",[t._v(t._s(t.mask.direction_y)+" μm")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("ロール方向")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.roll_technique?e("div",[t._v("有")]):1===t.mask.roll_technique?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("図面に対して")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.roll_technique_list?e("div",[t._v("X方向")]):1===t.mask.roll_technique_list?e("div",[t._v("Y方向")]):2===t.mask.roll_technique_list?e("div",[t._v("その他方向")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("同時面付け")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.facts_simultaneous_imposition?e("div",[t._v("有")]):1===t.mask.facts_simultaneous_imposition?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}}),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[t._v(t._s(t.mask.facts_kind))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("マスク測定")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.mask_measurement?e("div",[t._v("有")]):1===t.mask.mask_measurement?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("露光方法")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.exposure_technique?e("div",[t._v("自動")]):1===t.mask.exposure_technique?e("div",[t._v("手動")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("面間隔")]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("X方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t.mask.face_interval_direction_x?e("div",[t._v(" "+t._s(t.mask.face_interval_direction_x)+" mm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("Y方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t.mask.face_interval_direction_y?e("div",[t._v(" "+t._s(t.mask.face_interval_direction_y)+" mm ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("線重ね")]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("X方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[0===t.mask.line_overlap_direction_x?e("div",[t._v("有")]):1===t.mask.line_overlap_direction_x?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("Y方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[0===t.mask.line_overlap_direction_y?e("div",[t._v("有")]):1===t.mask.line_overlap_direction_y?e("div",[t._v("無")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("XY方向面付数")]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("X方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t.mask.imposition_amount_direction_x?e("div",[t._v(" "+t._s(t.mask.imposition_amount_direction_x)+" 個 ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("Y方向")]),e("b-col",{staticClass:"border",attrs:{cols:"3"}},[t.mask.imposition_amount_direction_y?e("div",[t._v(" "+t._s(t.mask.imposition_amount_direction_y)+" 個 ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("個/シート")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.mask.imposition_amount_piece_seat))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("個/フレーム")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.mask.imposition_amount_piece_flame))]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("フレーム/シート")]),e("b-col",[t._v(t._s(t.mask.imposition_amount_flame_seat))])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"2"}},[t._v("カットライン")]),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[0===t.mask.cut_line_key?e("div",[t._v("有")]):1===t.mask.cut_line_key?e("div",[t._v("無")]):t._e()]),e("b-col",{staticClass:"border",attrs:{cols:"5"}},[t.mask.cut_line_val?e("div",[t._v(t._s(t.mask.cut_line_val)+" μm")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"12"}},[t._v("製品部ブリッジ")])],1),e("b-row",[e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("ブリッジ数")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[t.mask.bridge_product_department_1?e("div",[t._v(" "+t._s(t.mask.bridge_product_department_1)+" ヶ所 ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("ブリッジ形状")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.bridgeform_product_department_1?e("div",[t._v("凹")]):1===t.mask.bridgeform_product_department_1?e("div",[t._v("凸")]):2===t.mask.bridgeform_product_department_1?e("div",[t._v("ハーフ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("A")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.bridge_size_1?e("div",[t._v(" "+t._s(t.mask.bridge_size_1)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("B")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.bridge_size_2?e("div",[t._v(" "+t._s(t.mask.bridge_size_2)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("C")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.bridge_size_3?e("div",[t._v(" "+t._s(t.mask.bridge_size_3)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("D")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.bridge_size_4?e("div",[t._v(" "+t._s(t.mask.bridge_size_4)+" μm ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"12"}},[t._v("その他ブリッジ")])],1),e("b-row",[e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("ブリッジ数")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[t.mask.bridge_product_department_3?e("div",[t._v(" "+t._s(t.mask.bridge_product_department_3)+" ヶ所 ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"2"}},[t._v("ブリッジ形状")]),e("b-col",{staticClass:"border",attrs:{cols:"4"}},[0===t.mask.bridgeform_product_department_3?e("div",[t._v("凹")]):1===t.mask.bridgeform_product_department_3?e("div",[t._v("凸")]):2===t.mask.bridgeform_product_department_3?e("div",[t._v("ハーフ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("A")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.other_bridge_size_1?e("div",[t._v(" "+t._s(t.mask.other_bridge_size_1)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("B")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.other_bridge_size_2?e("div",[t._v(" "+t._s(t.mask.other_bridge_size_2)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("C")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.other_bridge_size_3?e("div",[t._v(" "+t._s(t.mask.other_bridge_size_3)+" μm ")]):t._e()]),e("b-col",{staticClass:"bg-secondary border text-light",attrs:{cols:"1"}},[t._v("D")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t.mask.other_bridge_size_4?e("div",[t._v(" "+t._s(t.mask.other_bridge_size_4)+" μm ")]):t._e()])],1),e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{cols:"12"}},[t._v("その他注意事項")])],1),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-textarea",{staticClass:"bg-white",attrs:{rows:"5",disabled:""},model:{value:t.mask.other_notice_facts,callback:function(e){t.$set(t.mask,"other_notice_facts",e)},expression:"mask.other_notice_facts"}})],1)],1)],1):t._e(),e("b-container",[e("b-row",{staticClass:"my-3 text-center"},[e("b-col",[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("router-link",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}],attrs:{to:{name:"mask_editor",params:{parent_id:t.parent_id,child_id:t.child_id,mask_id:t.mask_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1),e("b-button",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}],staticClass:"text-dark mx-1",attrs:{variant:"danger"},on:{click:t.deleteMaskData}},[t._v("削除")])],1)],1)],1)],1)},ss=[],as={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0},mask_id:{required:!0}},data(){return{mask:null,group:null,seigi_bool:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getMaskData:function(){g({method:"GET",url:`/masks/${this.mask_id}/`}).then(t=>{this.mask=t.data}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)})},deleteMaskData:function(){var t=window.confirm("削除してもよろしいですか？");t&&g({method:"DELETE",url:`/masks/${this.mask_id}/`}).then(()=>{this.$router.push({name:"child",params:{parent_id:this.parent_id,child_id:this.child_id}})})}},created(){this.getMaskData()}},is=as,rs=Object(m["a"])(is,es,ss,!1,null,null,null),ls=rs.exports,os=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"mt-3"},[e("h2",[t._v("マスク依頼")])]),e("b-container",{staticClass:"my-5"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border mt-5"},[e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("落下方法")])])],1),e("b-row",[e("b-col",[e("b-form-radio-group",{attrs:{options:t.drop_technique_options,stacked:""},model:{value:t.drop_technique,callback:function(e){t.drop_technique=e},expression:"drop_technique"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("補正")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.correction,callback:function(e){t.correction=e},expression:"correction"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("抜き代")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.without_fee,callback:function(e){t.without_fee=e},expression:"without_fee"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ピッチ補正")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.pitch_correction,callback:function(e){t.pitch_correction=e},expression:"pitch_correction"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.direction_x,callback:function(e){t.direction_x=e},expression:"direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.direction_y,callback:function(e){t.direction_y=e},expression:"direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ロール方向")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.roll_technique,callback:function(e){t.roll_technique=e},expression:"roll_technique"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.roll_technique_list_options},model:{value:t.roll_technique_list,callback:function(e){t.roll_technique_list=e},expression:"roll_technique_list"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("同時面付け")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.facts_simultaneous_imposition,callback:function(e){t.facts_simultaneous_imposition=e},expression:"facts_simultaneous_imposition"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.facts_kind,callback:function(e){t.facts_kind=e},expression:"facts_kind"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("マスク測定")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.mask_measurement,callback:function(e){t.mask_measurement=e},expression:"mask_measurement"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("自動露光仕様")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.exposure_technique,callback:function(e){t.exposure_technique=e},expression:"exposure_technique"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面間隔")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.face_interval_direction_x,callback:function(e){t.face_interval_direction_x=e},expression:"face_interval_direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.face_interval_direction_y,callback:function(e){t.face_interval_direction_y=e},expression:"face_interval_direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("線重ね")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.line_overlap_direction_x,callback:function(e){t.line_overlap_direction_x=e},expression:"line_overlap_direction_x"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.line_overlap_direction_y,callback:function(e){t.line_overlap_direction_y=e},expression:"line_overlap_direction_y"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("XY方向面付数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_direction_x,callback:function(e){t.imposition_amount_direction_x=e},expression:"imposition_amount_direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("個")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_direction_y,callback:function(e){t.imposition_amount_direction_y=e},expression:"imposition_amount_direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("個")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("カットライン")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.cut_line_key,callback:function(e){t.cut_line_key=e},expression:"cut_line_key"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.cut_line_val,callback:function(e){t.cut_line_val=e},expression:"cut_line_val"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面付け数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_seat,callback:function(e){t.imposition_amount_piece_seat=e},expression:"imposition_amount_piece_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/シート")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_flame,callback:function(e){t.imposition_amount_piece_flame=e},expression:"imposition_amount_piece_flame"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/フレーム")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_flame_seat,callback:function(e){t.imposition_amount_flame_seat=e},expression:"imposition_amount_flame_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("フレーム/シート")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ブリッジ")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_product_department_1,callback:function(e){t.bridge_product_department_1=e},expression:"bridge_product_department_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("ヶ所")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ形状")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{id:"bridgeform_product_department_1",options:t.bridgeform_product_department_1_options},model:{value:t.bridgeform_product_department_1,callback:function(e){t.bridgeform_product_department_1=e},expression:"bridgeform_product_department_1"}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法A")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_1,callback:function(e){t.bridge_size_1=e},expression:"bridge_size_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法B")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_2,callback:function(e){t.bridge_size_2=e},expression:"bridge_size_2"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法C")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_3,callback:function(e){t.bridge_size_3=e},expression:"bridge_size_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法D")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_4,callback:function(e){t.bridge_size_4=e},expression:"bridge_size_4"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_product_department_3,callback:function(e){t.bridge_product_department_3=e},expression:"bridge_product_department_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("ヶ所")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ形状")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{id:"bridgeform_product_department_3",options:t.bridgeform_product_department_3_options},model:{value:t.bridgeform_product_department_3,callback:function(e){t.bridgeform_product_department_3=e},expression:"bridgeform_product_department_3"}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法A")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_1,callback:function(e){t.other_bridge_size_1=e},expression:"other_bridge_size_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法B")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_2,callback:function(e){t.other_bridge_size_2=e},expression:"other_bridge_size_2"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法C")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_3,callback:function(e){t.other_bridge_size_3=e},expression:"other_bridge_size_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法D")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_4,callback:function(e){t.other_bridge_size_4=e},expression:"other_bridge_size_4"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("その他注意事項")])])],1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.other_notice_facts,expression:"other_notice_facts"}],staticClass:"form-control mb-3",attrs:{type:"text",rows:"5"},domProps:{value:t.other_notice_facts},on:{input:function(e){e.target.composing||(t.other_notice_facts=e.target.value)}}})],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"mask",params:{parent_id:t.parent_id,child_id:t.child_id,mask_id:t.mask_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1)],1)},ns=[],cs={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0},mask_id:{required:!0}},data(){return{imposition_amount_piece_seat:null,imposition_amount_piece_flame:null,imposition_amount_flame_seat:null,drop_technique:null,correction:null,without_fee:null,pitch_correction:null,direction_x:null,direction_y:null,roll_technique:null,roll_technique_list:null,roll_technique_list_options:[{value:null,text:"----"},{value:0,text:"X"},{value:1,text:"Y"},{value:2,text:"その他"}],facts_simultaneous_imposition:null,facts_kind:null,mask_measurement:null,exposure_technique:null,face_interval_direction_x:null,face_interval_direction_y:null,line_overlap_direction_x:null,line_overlap_direction_y:null,imposition_amount_direction_x:null,imposition_amount_direction_y:null,cut_line_key:null,cut_line_val:null,bridge_product_department_1:null,bridge_product_department_2:null,bridge_product_department_3:null,bridgeform_product_department_1:null,bridgeform_product_department_1_options:[{value:null,text:"----"},{value:0,text:"凹"},{value:1,text:"凸"},{value:2,text:"ハーフ"}],bridgeform_product_department_2:null,bridgeform_product_department_3:null,bridgeform_product_department_3_options:[{value:null,text:"----"},{value:0,text:"凹"},{value:1,text:"凸"},{value:2,text:"ハーフ"}],bridge_size_1:null,bridge_size_2:null,bridge_size_3:null,bridge_size_4:null,other_bridge_size_1:null,other_bridge_size_2:null,other_bridge_size_3:null,other_bridge_size_4:null,other_notice_facts:null,drop_technique_options:[{text:"べた黒",value:"0"},{text:"引き回し",value:"1"}]}},methods:{submitSave:function(){g({method:"PATCH",url:`/masks/${this.mask_id}/`,data:{imposition_amount_piece_seat:this.imposition_amount_piece_seat,imposition_amount_piece_flame:this.imposition_amount_piece_flame,imposition_amount_flame_seat:this.imposition_amount_flame_seat,drop_technique:this.drop_technique,correction:this.correction,without_fee:this.without_fee,pitch_correction:this.pitch_correction,direction_x:this.direction_x,direction_y:this.direction_y,roll_technique:this.roll_technique,roll_technique_list:this.roll_technique_list,facts_simultaneous_imposition:this.facts_simultaneous_imposition,facts_kind:this.facts_kind,mask_measurement:this.mask_measurement,exposure_technique:this.exposure_technique,face_interval_direction_x:this.face_interval_direction_x,face_interval_direction_y:this.face_interval_direction_y,line_overlap_direction_x:this.line_overlap_direction_x,line_overlap_direction_y:this.line_overlap_direction_y,imposition_amount_direction_x:this.imposition_amount_direction_x,imposition_amount_direction_y:this.imposition_amount_direction_y,cut_line_key:this.cut_line_key,cut_line_val:this.cut_line_val,bridge_product_department_1:this.bridge_product_department_1,bridge_product_department_2:this.bridge_product_department_2,bridge_product_department_3:this.bridge_product_department_3,bridgeform_product_department_1:this.bridgeform_product_department_1,bridgeform_product_department_2:this.bridgeform_product_department_2,bridgeform_product_department_3:this.bridgeform_product_department_3,bridge_size_1:this.bridge_size_1,bridge_size_2:this.bridge_size_2,bridge_size_3:this.bridge_size_3,bridge_size_4:this.bridge_size_4,other_bridge_size_1:this.other_bridge_size_1,other_bridge_size_2:this.other_bridge_size_2,other_bridge_size_3:this.other_bridge_size_3,other_bridge_size_4:this.other_bridge_size_4,other_notice_facts:this.other_notice_facts}}).then(t=>{this.$router.push({name:"mask",params:{parent_id:t.data.parent_id,child_id:t.data.child_id,mask_id:t.data.mask_id}})})}},async beforeRouteEnter(t,e,s){let a=`/masks/${t.params.mask_id}/`,i=await g({url:a});return s(t=>{t.imposition_amount_piece_seat=i.data.imposition_amount_piece_seat,t.imposition_amount_piece_flame=i.data.imposition_amount_piece_flame,t.imposition_amount_flame_seat=i.data.imposition_amount_flame_seat,t.drop_technique=i.data.drop_technique,t.correction=i.data.correction,t.without_fee=i.data.without_fee,t.pitch_correction=i.data.pitch_correction,t.direction_x=i.data.direction_x,t.direction_y=i.data.direction_y,t.roll_technique=i.data.roll_technique,t.roll_technique_list=i.data.roll_technique_list,t.facts_simultaneous_imposition=i.data.facts_simultaneous_imposition,t.facts_kind=i.data.facts_kind,t.mask_measurement=i.data.mask_measurement,t.exposure_technique=i.data.exposure_technique,t.face_interval_direction_x=i.data.face_interval_direction_x,t.face_interval_direction_y=i.data.face_interval_direction_y,t.line_overlap_direction_x=i.data.line_overlap_direction_x,t.line_overlap_direction_y=i.data.line_overlap_direction_y,t.imposition_amount_direction_x=i.data.imposition_amount_direction_x,t.imposition_amount_direction_y=i.data.imposition_amount_direction_y,t.cut_line_key=i.data.cut_line_key,t.cut_line_val=i.data.cut_line_val,t.bridge_product_department_1=i.data.bridge_product_department_1,t.bridge_product_department_2=i.data.bridge_product_department_2,t.bridge_product_department_3=i.data.bridge_product_department_3,t.bridgeform_product_department_1=i.data.bridgeform_product_department_1,t.bridgeform_product_department_2=i.data.bridgeform_product_department_2,t.bridgeform_product_department_3=i.data.bridgeform_product_department_3,t.bridge_size_1=i.data.bridge_size_1,t.bridge_size_2=i.data.bridge_size_2,t.bridge_size_3=i.data.bridge_size_3,t.bridge_size_4=i.data.bridge_size_4,t.other_bridge_size_1=i.data.other_bridge_size_1,t.other_bridge_size_2=i.data.other_bridge_size_2,t.other_bridge_size_3=i.data.other_bridge_size_3,t.other_bridge_size_4=i.data.other_bridge_size_4,t.other_notice_facts=i.data.other_notice_facts})}},_s=cs,ms=Object(m["a"])(_s,os,ns,!1,null,null,null),ds=ms.exports,us=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("マスク新規登録")])]),e("b-container",{staticClass:"my-5"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"border mt-5"},[e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("落下方法")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-radio-group",{attrs:{options:t.drop_technique_options,stacked:""},model:{value:t.drop_technique,callback:function(e){t.drop_technique=e},expression:"drop_technique"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("補正")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.correction,callback:function(e){t.correction=e},expression:"correction"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("抜き代")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.without_fee,callback:function(e){t.without_fee=e},expression:"without_fee"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ピッチ補正")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.pitch_correction,callback:function(e){t.pitch_correction=e},expression:"pitch_correction"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.direction_x,callback:function(e){t.direction_x=e},expression:"direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.direction_y,callback:function(e){t.direction_y=e},expression:"direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ロール方向")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.roll_technique,callback:function(e){t.roll_technique=e},expression:"roll_technique"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{options:t.roll_technique_list_options},model:{value:t.roll_technique_list,callback:function(e){t.roll_technique_list=e},expression:"roll_technique_list"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("同時面付け")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.facts_simultaneous_imposition,callback:function(e){t.facts_simultaneous_imposition=e},expression:"facts_simultaneous_imposition"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.facts_kind,callback:function(e){t.facts_kind=e},expression:"facts_kind"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面間隔")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.face_interval_direction_x,callback:function(e){t.face_interval_direction_x=e},expression:"face_interval_direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.face_interval_direction_y,callback:function(e){t.face_interval_direction_y=e},expression:"face_interval_direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("mm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("線重ね")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.line_overlap_direction_x,callback:function(e){t.line_overlap_direction_x=e},expression:"line_overlap_direction_x"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.line_overlap_direction_y,callback:function(e){t.line_overlap_direction_y=e},expression:"line_overlap_direction_y"}},[t._v(" 有 ")])],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("XY方向面付数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("X方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_direction_x,callback:function(e){t.imposition_amount_direction_x=e},expression:"imposition_amount_direction_x"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("個")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"2"}},[e("label",[t._v("Y方向")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_direction_y,callback:function(e){t.imposition_amount_direction_y=e},expression:"imposition_amount_direction_y"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("個")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("カットライン")])])],1),e("b-row",[e("b-col",[e("b-form-checkbox",{attrs:{value:"0","unchecked-value":"1"},model:{value:t.cut_line_key,callback:function(e){t.cut_line_key=e},expression:"cut_line_key"}},[t._v(" 有 ")])],1)],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.cut_line_val,callback:function(e){t.cut_line_val=e},expression:"cut_line_val"}})],1),e("b-col",{attrs:{cols:"1"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("面付け数")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_seat,callback:function(e){t.imposition_amount_piece_seat=e},expression:"imposition_amount_piece_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/シート")])])],1),e("b-row",[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_piece_flame,callback:function(e){t.imposition_amount_piece_flame=e},expression:"imposition_amount_piece_flame"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("個/フレーム")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.imposition_amount_flame_seat,callback:function(e){t.imposition_amount_flame_seat=e},expression:"imposition_amount_flame_seat"}})],1),e("b-col",{attrs:{cols:"4",md:"3"}},[e("p",[t._v("フレーム/シート")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("ブリッジ")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_product_department_1,callback:function(e){t.bridge_product_department_1=e},expression:"bridge_product_department_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("ヶ所")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ形状")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{id:"bridgeform_product_department_1",options:t.bridgeform_product_department_1_options},model:{value:t.bridgeform_product_department_1,callback:function(e){t.bridgeform_product_department_1=e},expression:"bridgeform_product_department_1"}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法A")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_1,callback:function(e){t.bridge_size_1=e},expression:"bridge_size_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法B")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_2,callback:function(e){t.bridge_size_2=e},expression:"bridge_size_2"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法C")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_3,callback:function(e){t.bridge_size_3=e},expression:"bridge_size_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("製品部ブリッジ寸法D")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_size_4,callback:function(e){t.bridge_size_4=e},expression:"bridge_size_4"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.bridge_product_department_3,callback:function(e){t.bridge_product_department_3=e},expression:"bridge_product_department_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("ヶ所")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ形状")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-select",{attrs:{id:"bridgeform_product_department_3",options:t.bridgeform_product_department_3_options},model:{value:t.bridgeform_product_department_3,callback:function(e){t.bridgeform_product_department_3=e},expression:"bridgeform_product_department_3"}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法A")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_1,callback:function(e){t.other_bridge_size_1=e},expression:"other_bridge_size_1"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法B")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_2,callback:function(e){t.other_bridge_size_2=e},expression:"other_bridge_size_2"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法C")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_3,callback:function(e){t.other_bridge_size_3=e},expression:"other_bridge_size_3"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"5",md:"4"}},[e("p",[t._v("その他ブリッジ寸法D")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.other_bridge_size_4,callback:function(e){t.other_bridge_size_4=e},expression:"other_bridge_size_4"}})],1),e("b-col",{attrs:{cols:"2"}},[e("p",[t._v("μm")])])],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("その他注意事項")])])],1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.other_notice_facts,expression:"other_notice_facts"}],staticClass:"form-control mb-3",attrs:{type:"text",rows:"5"},domProps:{value:t.other_notice_facts},on:{input:function(e){e.target.composing||(t.other_notice_facts=e.target.value)}}})],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:t.$route.params.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1)],1)},bs=[],hs={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{imposition_amount_piece_seat:null,imposition_amount_piece_flame:null,imposition_amount_flame_seat:null,drop_technique:null,correction:null,without_fee:null,pitch_correction:null,direction_x:null,direction_y:null,roll_technique:null,roll_technique_list:null,roll_technique_list_options:[{value:null,text:"----"},{value:0,text:"X"},{value:1,text:"Y"},{value:2,text:"その他"}],facts_simultaneous_imposition:null,facts_kind:null,mask_measurement:null,exposure_technique:null,face_interval_direction_x:null,face_interval_direction_y:null,line_overlap_direction_x:null,line_overlap_direction_y:null,imposition_amount_direction_x:null,imposition_amount_direction_y:null,cut_line_key:null,cut_line_val:null,bridge_product_department_1:null,bridge_product_department_2:null,bridge_product_department_3:null,bridgeform_product_department_1:null,bridgeform_product_department_1_options:[{value:null,text:"----"},{value:0,text:"凹"},{value:1,text:"凸"},{value:2,text:"ハーフ"}],bridgeform_product_department_2:null,bridgeform_product_department_3:null,bridgeform_product_department_3_options:[{value:null,text:"----"},{value:0,text:"凹"},{value:1,text:"凸"},{value:2,text:"ハーフ"}],bridge_size_1:null,bridge_size_2:null,bridge_size_3:null,bridge_size_4:null,other_bridge_size_1:null,other_bridge_size_2:null,other_bridge_size_3:null,other_bridge_size_4:null,other_notice_facts:null,drop_technique_options:[{text:"べた黒",value:"0"},{text:"引き回し",value:"1"}]}},computed:{username:function(){return this.$store.state.auth.username}},methods:{submitSave:function(){g({method:"POST",url:"/masks/",data:{parent_id:this.parent_id,child_id:this.child_id,imposition_amount_piece_seat:this.imposition_amount_piece_seat,imposition_amount_piece_flame:this.imposition_amount_piece_flame,imposition_amount_flame_seat:this.imposition_amount_flame_seat,drop_technique:this.drop_technique,correction:this.correction,without_fee:this.without_fee,pitch_correction:this.pitch_correction,direction_x:this.direction_x,direction_y:this.direction_y,roll_technique:this.roll_technique,roll_technique_list:this.roll_technique_list,facts_simultaneous_imposition:this.facts_simultaneous_imposition,facts_kind:this.facts_kind,mask_measurement:this.mask_measurement,exposure_technique:this.exposure_technique,face_interval_direction_x:this.face_interval_direction_x,face_interval_direction_y:this.face_interval_direction_y,line_overlap_direction_x:this.line_overlap_direction_x,line_overlap_direction_y:this.line_overlap_direction_y,imposition_amount_direction_x:this.imposition_amount_direction_x,imposition_amount_direction_y:this.imposition_amount_direction_y,cut_line_key:this.cut_line_key,cut_line_val:this.cut_line_val,bridge_product_department_1:this.bridge_product_department_1,bridge_product_department_2:this.bridge_product_department_2,bridge_product_department_3:this.bridge_product_department_3,bridgeform_product_department_1:this.bridgeform_product_department_1,bridgeform_product_department_2:this.bridgeform_product_department_2,bridgeform_product_department_3:this.bridgeform_product_department_3,bridge_size_1:this.bridge_size_1,bridge_size_2:this.bridge_size_2,bridge_size_3:this.bridge_size_3,bridge_size_4:this.bridge_size_4,other_bridge_size_1:this.other_bridge_size_1,other_bridge_size_2:this.other_bridge_size_2,other_bridge_size_3:this.other_bridge_size_3,other_bridge_size_4:this.other_bridge_size_4,other_notice_facts:this.other_notice_facts}}).then(t=>{this.$router.push({name:"child",params:{parent_id:t.data.parent_id,child_id:t.data.child_id}})})}}},ps=hs,vs=Object(m["a"])(ps,us,bs,!1,null,null,null),fs=vs.exports,gs=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("社内特殊工程")]),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-bold"},[t._v("工程名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.operation_name,callback:function(e){t.operation_name=e},expression:"operation_name"}})],1)],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1),e("b-container",{staticClass:"my-5"},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("工程名")]),e("b-col",{staticClass:"bg-dark border",attrs:{cols:"2"}})],1),t._l(t.operations,(function(s){return e("b-row",{key:s.operation_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.operation_name))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteOperation(s.operation_id)}}},[t._v("削除")])],1)],1)}))],2)],1)],1)},xs=[],Cs={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{operation_name:null,operations:null}},methods:{submitSave:function(){g({method:"POST",url:"/operations/",data:{operation_name:this.operation_name,company_id:this.company_id,is_outsourcing:2,child_id:this.child_id,parent_id:this.parent_id}}).then(t=>{this.$router.go({name:"special_process_editor",params:{parent_id:t.data.parent_id,child_id:t.data.child_id}})})},getOperation:function(){g({method:"GET",url:`/getoperations/${this.child_id}/2/`}).then(t=>{this.operations=t.data})},deleteOperation:function(t){g({method:"DELETE",url:`/operations/${t}/`}).then(this.$router.go({name:"outsourcing_editor",params:{parent_id:this.parent_id,child_id:this.child_id}}))}},created(){this.getOperation()}},ws=Cs,ks=Object(m["a"])(ws,gs,xs,!1,null,null,null),ys=ks.exports,zs=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("外注工程")]),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("工程名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.operation_name,callback:function(e){t.operation_name=e},expression:"operation_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("外注先")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"9",md:"6"}},[e(Ht["a"],{attrs:{items:t.company_list,"item-text":"company_name","item-value":"company_id"},model:{value:t.company_id,callback:function(e){t.company_id=e},expression:"company_id"}})],1)],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1),e("b-container",{staticClass:"my-5"},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("工程名")]),e("b-col",{staticClass:"bg-dark border text-light"},[t._v("外注先")]),e("b-col",{staticClass:"bg-dark border",attrs:{cols:"2"}})],1),t._l(t.operations,(function(s){return e("b-row",{key:s.operation_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.operation_name))]),e("b-col",{staticClass:"border"},[t._v(t._s(s.company_name))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteOperation(s.operation_id)}}},[t._v("削除")])],1)],1)}))],2)],1)],1)},js=[],$s={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{operation_name:null,company_list:null,company_id:null,operations:null}},methods:{getCompany:function(){g({method:"GET",url:"/companies/"}).then(t=>{this.company_list=t.data})},submitSave:function(){g({method:"POST",url:"/operations/",data:{operation_name:this.operation_name,company_id:this.company_id,is_outsourcing:1,child_id:this.child_id,parent_id:this.parent_id}}).then(t=>{this.$router.go({name:"outsourcing_editor",params:{parent_id:t.data.parent_id,child_id:t.data.child_id}})})},getOperation:function(){g({method:"GET",url:`/getoperations/${this.child_id}/1/`}).then(t=>{this.operations=t.data})},deleteOperation:function(t){g({method:"DELETE",url:`/operations/${t}/`}).then(this.$router.go({name:"outsourcing_editor",params:{parent_id:this.parent_id,child_id:this.child_id}}))}},created(){this.getCompany(),this.getOperation()}},Gs=$s,qs=Object(m["a"])(Gs,zs,js,!1,null,null,null),Ds=qs.exports,Ns=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("工程フロー")]),e("b-row",[e("b-col",{attrs:{cols:"3"}},[t._v("プリセット")]),e("b-col",{attrs:{cols:"4"}},[e("b-form-select",{attrs:{options:t.preset_options},model:{value:t.preset_selected,callback:function(e){t.preset_selected=e},expression:"preset_selected"}})],1),e("b-col",[e("b-button",{attrs:{variant:"primary"},on:{click:t.setPreset}},[t._v("セット")])],1)],1)],1),e("b-container",{staticClass:"my-3"},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[t._v("社内工程")]),e("b-col",{attrs:{cols:"4"}},[e("b-form-select",{attrs:{options:t.in_options,"value-field":"operation_id","text-field":"operation_name"},model:{value:t.in_selected,callback:function(e){t.in_selected=e},expression:"in_selected"}})],1),e("b-col",[e("b-button",{attrs:{variant:"primary"},on:{click:t.addOperation1}},[t._v("追加")])],1)],1)],1),e("b-container",{staticClass:"my-3"},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[t._v("社内特殊工程")]),e("b-col",{attrs:{cols:"4"}},[e("b-form-select",{attrs:{options:t.special_options,"value-field":"operation_id","text-field":"operation_name"},model:{value:t.special_selected,callback:function(e){t.special_selected=e},expression:"special_selected"}})],1),e("b-col",[e("b-button",{attrs:{variant:"primary"},on:{click:t.addOperation3}},[t._v("追加")])],1)],1)],1),e("b-container",{staticClass:"my-3"},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[t._v("外注工程")]),e("b-col",{attrs:{cols:"4"}},[e("b-form-select",{attrs:{options:t.out_options,"value-field":"operation_id","text-field":"operation_name"},model:{value:t.out_selected,callback:function(e){t.out_selected=e},expression:"out_selected"}})],1),e("b-col",[e("b-button",{attrs:{variant:"primary"},on:{click:t.addOperation2}},[t._v("追加")])],1)],1)],1),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"my-3"},[e("b-row",[e("b-col",{staticClass:"border font-weight-bold",attrs:{cols:"2"}},[t._v("工程番号")]),e("b-col",{staticClass:"border font-weight-bold",attrs:{cols:"2"}},[t._v("工程名")]),e("b-col",{staticClass:"border font-weight-bold",attrs:{cols:"2"}},[t._v("加工場所")]),e("b-col",{staticClass:"border font-weight-bold"},[t._v("外注先")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}})],1),t._l(t.operations,(function(s,a){return e("b-row",{key:s.operation_id,class:a===t.dragIndex?"dragging":"",attrs:{draggable:!0},on:{dragstart:function(e){return t.dragStart(a)},dragenter:function(e){return t.dragEnter(a)},dragover:function(t){t.preventDefault()},dragend:t.dragEnd}},[e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(a+1))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.operation_dict[s]))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[t._v(t._s(t.is_outsourcing_dict[s]))]),e("b-col",{staticClass:"border"},[t._v(t._s(t.outsourcing_dict[s]))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteOperation(a)}}},[t._v("削除")])],1)],1)}))],2),e("b-container",{staticClass:"text-center my-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1)],1)},Ms=[],Es={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{operations:[],dragIndex:null,in_selected:null,in_options:null,out_selected:null,out_options:null,special_selected:null,special_options:null,operation_dict:{},outsourcing_dict:{},is_outsourcing_dict:{},preset_options:[{value:[1,2,3,4,5,6,7],text:"通常工程"}],preset_selected:null,before_operations:null}},methods:{submitSave:async function(){var t=[];if(this.before_operations.length<this.operations.length)for(let r=0;r<this.operations.length;r++)if(this.before_operations.length>r){var e=g({method:"PATCH",url:`/children_operations/${this.before_operations[r].id}/`,data:{operation_id:this.operations[r]}});t.push(e)}else{var s=g({method:"POST",url:"/children_operations/",data:{index:r,parent_id:this.parent_id,child_id:this.child_id,operation_id:this.operations[r]}});t.push(s)}else for(let r=0;r<this.before_operations.length;r++)if(this.operations.length>r){var a=g({method:"PATCH",url:`/children_operations/${this.before_operations[r].id}/`,data:{operation_id:this.operations[r]}});t.push(a)}else{var i=g({method:"DELETE",url:`/children_operations/${this.before_operations[r].id}/`});t.push(i)}Promise.all(t).then(()=>{this.$router.push({name:"child",params:{parent_id:this.parent_id,child_id:this.child_id}})})},getOperations:function(){g({method:"GET",url:`/getoperations/${this.child_id}/1/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.operation_dict[t.data[e].operation_id]=t.data[e].operation_name,this.outsourcing_dict[t.data[e].operation_id]=t.data[e].company_name,this.is_outsourcing_dict[t.data[e].operation_id]="外注"}),g({method:"GET",url:`/getoperations/${this.child_id}/2/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.operation_dict[t.data[e].operation_id]=t.data[e].operation_name,this.is_outsourcing_dict[t.data[e].operation_id]="社内"}),g({method:"GET",url:"/getoperations3/0/"}).then(t=>{this.in_options=t.data;for(let e=0;e<t.data.length;e++)this.operation_dict[t.data[e].operation_id]=t.data[e].operation_name,this.is_outsourcing_dict[t.data[e].operation_id]="社内"}),g({method:"GET",url:`/getoperations/${this.child_id}/1/`}).then(t=>{this.out_options=t.data}),g({method:"GET",url:`/getoperations/${this.child_id}/2/`}).then(t=>{this.special_options=t.data})},dragStart:function(t){this.dragIndex=t},dragEnter:function(t){if(t===this.dragIndex)return;const e=this.operations.splice(this.dragIndex,1)[0];this.operations.splice(t,0,e),this.dragIndex=t},dragEnd:function(){this.dragIndex=null},addOperation1:function(){this.operations.push(this.in_selected)},addOperation2:function(){this.operations.push(this.out_selected)},addOperation3:function(){this.operations.push(this.special_selected)},deleteOperation:function(t){this.operations.splice(t,1)},setPreset:function(){this.operations=this.preset_selected},getChildOperation:function(){g({method:"GET",url:`/get_children_operations/${this.child_id}/`}).then(t=>{this.before_operations=t.data;for(let e=0;e<t.data.length;e++)this.operations.push(t.data[e].operation_id)})}},created(){this.getOperations(),this.getChildOperation()}},Ss=Es,Ts=(s("b7e7"),Object(m["a"])(Ss,Ns,Ms,!1,null,null,null)),Ps=Ts.exports,Is=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"home-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("a",{attrs:{href:"/material_create"}},[e("b-button",{staticClass:"text-white",attrs:{variant:"primary"}},[t._v("新規登録")])],1)])]),e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("原材料ID")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_material_id,expression:"Q_material_id"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_material_id},on:{input:function(e){e.target.composing||(t.Q_material_id=e.target.value)}}})]),e("b-col",{attrs:{sm:"2"}},[t._v("材料形状")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_material_shape},model:{value:t.Q_material_shape,callback:function(e){t.Q_material_shape=e},expression:"Q_material_shape"}})],1)],1),e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("材質")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_material_sml_txt},model:{value:t.Q_material_sml_txt,callback:function(e){t.Q_material_sml_txt=e},expression:"Q_material_sml_txt"}})],1),e("b-col",{attrs:{sm:"2"}},[t._v("記号")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_material_symbol},model:{value:t.Q_material_symbol,callback:function(e){t.Q_material_symbol=e},expression:"Q_material_symbol"}})],1)],1)],1),e("div",{staticClass:"text-center my-5"},[e("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return e.preventDefault(),t.getArticles()}}},[t._v(" 検索 ")])])]),e("b-container",{staticClass:"my-5",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("材料ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("材料形状")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("材質")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("記号")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("硬度・仕上げ")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("板厚")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("W")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("L")])],1),t._l(t.materials,(function(s){return e("div",{key:s.material_id},[e("b-row",[e("b-col",{staticClass:"border",attrs:{sm:"1"}},[e("router-link",{staticClass:"material-link",attrs:{to:{name:"material",params:{material_id:s.material_id}}}},[t._v(t._s(s.material_id)+" ")])],1),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.material_shape))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.material_sml_txt))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.material_symbol))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.hardness))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(s.sheet_thickness))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(s.material_size_w))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(s.material_size_l))])],1)],1)}))],2)],1)},Os=[],Qs={components:{GlobalHeader:Y,GlobalMessage:R},name:"home",data(){return{materials:"",next:null,previous:null,loadingMaterials:!1,Q_material_id:"",Q_material_shape:"",Q_material_sml_txt:"",Q_material_symbol:"",Q_hardness:"",Q_sheet_thickness:"",material_shape_list:[],material_sml_txt_list:[],material_symbol_list:[],hardness_list:[],options_material_shape:[{value:"",text:"----"}],options_material_sml_txt:[{value:"",text:"----"}],options_material_symbol:[{value:"",text:"----"}]}},methods:{getMaterials:function(){this.loadingMaterials=!0,g({method:"get",url:"/materials/"}).then(t=>{this.materials=t.data,this.loadingMaterials=!1})},getArticles:function(){g({method:"get",url:`/materials/?Q_material_id=${this.Q_material_id}&Q_material_shape=${this.Q_material_shape}&Q_material_sml_txt=${this.Q_material_sml_txt}&Q_material_symbol=${this.Q_material_symbol}&Q_hardness=${this.Q_hardness}&Q_sheet_thickness=${this.Q_sheet_thickness}`}).then(t=>{this.materials=t.data,this.loadingMaterials=!1})}},created(){this.getMaterials(),document.title="Material Board",g({method:"GET",url:"/materials/"}).then(t=>{if(t.data){for(let e=0;e<t.data.length;e++)this.material_shape_list.push(t.data[e].material_shape),this.material_sml_txt_list.push(t.data[e].material_sml_txt),this.material_symbol_list.push(t.data[e].material_symbol);this.material_shape_list=Array.from(new Set(this.material_shape_list)),this.material_sml_txt_list=Array.from(new Set(this.material_sml_txt_list)),this.material_symbol_list=Array.from(new Set(this.material_symbol_list));for(let t=0;t<this.material_shape_list.length;t++)this.options_material_shape.push({value:this.material_shape_list[t],text:this.material_shape_list[t]});for(let t=0;t<this.material_sml_txt_list.length;t++)this.options_material_sml_txt.push({value:this.material_sml_txt_list[t],text:this.material_sml_txt_list[t]});for(let t=0;t<this.material_symbol_list.length;t++)this.options_material_symbol.push({value:this.material_symbol_list[t],text:this.material_symbol_list[t]})}})}},Hs=Qs,As=Object(m["a"])(Hs,Is,Os,!1,null,null,null),Ys=As.exports,Ls=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"create-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("main",{staticClass:"container mt-3 p-3"},[e("p",{staticClass:"h5 mb-5"},[t._v("材料登録")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"material_shape"}},[t._v("材料形状")]),e("div",{staticClass:"col-sm-8"},[e("b-form-select",{attrs:{id:"material_big"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}},[e("option",{attrs:{value:""}},[t._v("----")]),e("option",{attrs:{value:"切り板"}},[t._v("切り板")]),e("option",{attrs:{value:"コイル"}},[t._v("コイル")])])],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("材質")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("記号")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("硬度・仕上げ")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("板厚")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("W")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("L")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1)]),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"material-link",attrs:{to:{name:"material_list"}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])])],1)],1)},Fs=[],Xs={components:{GlobalHeader:Y,GlobalMessage:R},name:"MaterialCreate",data(){return{material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null}},methods:{submitSave:function(){g({method:"POST",url:"/materials/",data:{material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l}}).then(t=>{this.$router.push({name:"material",params:{material_id:t.data.material_id}})})}},created(){document.title="Create - Material"}},Vs=Xs,Ws=Object(m["a"])(Vs,Ls,Fs,!1,null,null,null),Rs=Ws.exports,Bs=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-5",attrs:{fluid:"xl"}},[e("h2",[t._v("材料詳細")])]),e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("材料ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("材料形状")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("材質")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("記号")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("硬度・仕上げ")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("板厚")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("W")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("L")])],1),e("b-row",[e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(t.material.material_id))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.material.material_shape))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.material.material_sml_txt))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.material.material_symbol))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.material.hardness))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(t.material.sheet_thickness))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(t.material.material_size_w))]),e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(t.material.material_size_l))])],1)],1),e("b-container",{staticClass:"my-5 text-center",attrs:{fluid:"xl"}},[e("router-link",{staticClass:"material-link",attrs:{to:{name:"material_list"}}},[e("b-button",{staticClass:"text-white mx-1",attrs:{variant:"primary"}},[t._v("戻る")])],1),e("router-link",{attrs:{to:{name:"material_editor",params:{material_id:t.material.material_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1),e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"danger"},on:{click:t.deleteMaterialData}},[t._v("削除")])],1)],1)},Us=[],Js={components:{GlobalHeader:Y,GlobalMessage:R},props:{material_id:{required:!0}},data(){return{material:{}}},methods:{setPageTitle(t){document.title=t},getMaterialData:function(){g({method:"get",url:`/materials/${this.material_id}/`}).then(t=>{this.material=t.data})},deleteMaterialData:function(){var t=window.confirm("削除してもよろしいですか？");t&&g({method:"delete",url:`/materials/${this.material_id}/`}).then(()=>{this.$router.push({name:"material_list"})})}},created(){this.getMaterialData()}},Ks=Js,Zs=Object(m["a"])(Ks,Bs,Us,!1,null,null,null),ta=Zs.exports,ea=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("main",{staticClass:"container mt-5 p-5"},[e("p",{staticClass:"h5 mb-5"},[t._v("材料編集")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"material_shape"}},[t._v("材料形状")]),e("div",{staticClass:"col-sm-8"},[e("b-form-select",{attrs:{id:"material_big"},model:{value:t.material_shape,callback:function(e){t.material_shape=e},expression:"material_shape"}},[e("option",{attrs:{value:""}},[t._v("----")]),e("option",{attrs:{value:"切り板"}},[t._v("切り板")]),e("option",{attrs:{value:"コイル"}},[t._v("コイル")])])],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("材質")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_sml_txt,callback:function(e){t.material_sml_txt=e},expression:"material_sml_txt"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("記号")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_symbol,callback:function(e){t.material_symbol=e},expression:"material_symbol"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("硬度・仕上げ")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.hardness,callback:function(e){t.hardness=e},expression:"hardness"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("板厚")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.sheet_thickness,callback:function(e){t.sheet_thickness=e},expression:"sheet_thickness"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("W")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_size_w,callback:function(e){t.material_size_w=e},expression:"material_size_w"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("L")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.material_size_l,callback:function(e){t.material_size_l=e},expression:"material_size_l"}})],1)]),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"material-link",attrs:{to:{name:"material",params:{material_id:t.material_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])])],1)],1)},sa=[],aa={components:{GlobalHeader:Y,GlobalMessage:R},name:"ParentEditor",props:{material_id:{required:!0}},data(){return{material_shape:null,material_sml_txt:null,material_symbol:null,hardness:null,sheet_thickness:null,material_size_w:null,material_size_l:null}},methods:{submitSave:function(){g({method:"PUT",url:`/materials/${this.material_id}/`,data:{material_id:this.material_id,material_shape:this.material_shape,material_sml_txt:this.material_sml_txt,material_symbol:this.material_symbol,hardness:this.hardness,sheet_thickness:this.sheet_thickness,material_size_w:this.material_size_w,material_size_l:this.material_size_l}}).then(t=>{this.$router.push({name:"material",params:{material_id:t.data.material_id}})})}},async beforeRouteEnter(t,e,s){let a=`/materials/${t.params.material_id}/`,i=await g({url:a});return s(t=>{t.material_id=i.data.material_id,t.material_shape=i.data.material_shape,t.material_sml_txt=i.data.material_sml_txt,t.material_symbol=i.data.material_symbol,t.hardness=i.data.hardness,t.sheet_thickness=i.data.sheet_thickness,t.material_size_w=i.data.material_size_w,t.material_size_l=i.data.material_size_l})},created(){document.title="Editor - Material"}},ia=aa,ra=Object(m["a"])(ia,ea,sa,!1,null,null,null),la=ra.exports,oa=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"home-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("a",{attrs:{href:"/customer_create"}},[e("b-button",{staticClass:"text-white",attrs:{variant:"primary"}},[t._v("新規登録")])],1)])]),e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("div",{staticClass:"my-5"},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("顧客ID")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_customer_id,expression:"Q_customer_id"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_customer_id},on:{input:function(e){e.target.composing||(t.Q_customer_id=e.target.value)}}})]),e("b-col",{attrs:{sm:"2"}},[t._v("顧客名")]),e("b-col",{attrs:{sm:"4"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Q_customer_name,expression:"Q_customer_name"}],staticClass:"form-control mr-sm-2",attrs:{type:"text"},domProps:{value:t.Q_customer_name},on:{input:function(e){e.target.composing||(t.Q_customer_name=e.target.value)}}})])],1),e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("アシスタント")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_assistant},model:{value:t.Q_assistant,callback:function(e){t.Q_assistant=e},expression:"Q_assistant"}})],1),e("b-col",{attrs:{sm:"2"}},[t._v("営業担当")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_sales},model:{value:t.Q_sales,callback:function(e){t.Q_sales=e},expression:"Q_sales"}})],1)],1),e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"2"}},[t._v("生産管理")]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options_production_control},model:{value:t.Q_production_control,callback:function(e){t.Q_production_control=e},expression:"Q_production_control"}})],1)],1)],1),e("div",{staticClass:"text-center my-5"},[e("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return e.preventDefault(),t.getArticles()}}},[t._v(" 検索 ")])])]),e("b-container",{staticClass:"my-5",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("顧客ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"5"}},[t._v("顧客名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("アシスタント")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("営業担当")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("生産管理")])],1),t._l(t.customers,(function(s){return e("div",{key:s.customer_id},[e("b-row",[e("b-col",{staticClass:"border",attrs:{sm:"1"}},[e("router-link",{staticClass:"customer-link",attrs:{to:{name:"customer",params:{customer_id:s.customer_id}}}},[t._v(t._s(s.customer_id)+" ")])],1),e("b-col",{staticClass:"border",attrs:{sm:"5"}},[t._v(t._s(s.customer_name))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.assistant_last_name)+t._s(s.assistant_first_name))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.sales_last_name)+t._s(s.sales_first_name))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(s.production_control_last_name)+t._s(s.production_control_first_name))])],1)],1)}))],2)],1)},na=[],ca={components:{GlobalHeader:Y,GlobalMessage:R},name:"home",data(){return{customers:"",next:null,previous:null,loadingMaterials:!1,Q_customer_id:"",Q_customer_name:"",Q_assistant:"",Q_sales:"",Q_production_control:"",assistant_list:[],sales_list:[],production_control_list:[],options_assistant:[{value:"",text:"----"}],options_sales:[{value:"",text:"----"}],options_production_control:[{value:"",text:"----"}]}},methods:{getMaterials:function(){this.loadingMaterials=!0,g({method:"get",url:"/customers/"}).then(t=>{this.customers=t.data,this.loadingMaterials=!1})},getArticles:function(){g({method:"get",url:`/customers/?Q_customer_id=${this.Q_customer_id}&Q_customer_name=${this.Q_customer_name}&Q_assistant=${this.Q_assistant}&Q_sales=${this.Q_sales}&Q_production_control=${this.Q_production_control}`}).then(t=>{this.customers=t.data,this.loadingMaterials=!1})}},created(){this.getMaterials(),document.title="Material Board",g({method:"GET",url:"/customers/"}).then(t=>{if(t.data){for(let e=0;e<t.data.length;e++)this.assistant_list.push(t.data[e].assistant),this.sales_list.push(t.data[e].sales),this.production_control_list.push(t.data[e].production_control);this.assistant_list=Array.from(new Set(this.assistant_list)),this.sales_list=Array.from(new Set(this.sales_list)),this.production_control_list=Array.from(new Set(this.production_control_list));for(let t=0;t<this.assistant_list.length;t++)this.options_assistant.push({value:this.assistant_list[t],text:this.assistant_list[t]});for(let t=0;t<this.sales_list.length;t++)this.options_sales.push({value:this.sales_list[t],text:this.sales_list[t]});for(let t=0;t<this.production_control_list.length;t++)this.options_production_control.push({value:this.production_control_list[t],text:this.production_control_list[t]})}})}},_a=ca,ma=Object(m["a"])(_a,oa,na,!1,null,null,null),da=ma.exports,ua=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"create-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("main",{staticClass:"container mt-3 p-3"},[e("p",{staticClass:"h5 mb-5"},[t._v("顧客登録")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("顧客名")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("アシスタント")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.assistant,callback:function(e){t.assistant=e},expression:"assistant"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("営業担当")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.sales,callback:function(e){t.sales=e},expression:"sales"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("生産管理")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.production_control,callback:function(e){t.production_control=e},expression:"production_control"}})],1)]),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"customer-link",attrs:{to:{name:"customer_list"}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])])],1)],1)},ba=[],ha={components:{GlobalHeader:Y,GlobalMessage:R},name:"CustomerCreate",data(){return{customer_name:null,assistant:null,sales:null,production_control:null}},methods:{submitSave:function(){g({method:"POST",url:"/customers/",data:{customer_id:this.customer_id,customer_name:this.customer_name,assistant:this.assistant,sales:this.sales,production_control:this.production_control}}).then(t=>{this.$router.push({name:"customer",params:{customer_id:t.data.customer_id}})})}},created(){document.title="Create - Customer"}},pa=ha,va=Object(m["a"])(pa,ua,ba,!1,null,null,null),fa=va.exports,ga=function(){var t=this,e=t._self._c;return e("div",[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-5",attrs:{fluid:"xl"}},[e("h2",[t._v("顧客詳細")])]),e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"1"}},[t._v("顧客ID")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"5"}},[t._v("顧客名")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("アシスタント")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("営業担当")]),e("b-col",{staticClass:"bg-dark border text-light",attrs:{sm:"2"}},[t._v("生産管理")])],1),e("b-row",[e("b-col",{staticClass:"border",attrs:{sm:"1"}},[t._v(t._s(t.customer.customer_id))]),e("b-col",{staticClass:"border",attrs:{sm:"5"}},[t._v(t._s(t.customer.customer_name))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.customer.assistant))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.customer.sales))]),e("b-col",{staticClass:"border",attrs:{sm:"2"}},[t._v(t._s(t.customer.production_control))])],1)],1),e("b-container",{staticClass:"my-5 text-center",attrs:{fluid:"xl"}},[e("router-link",{staticClass:"customer-link",attrs:{to:{name:"customer_list"}}},[e("b-button",{staticClass:"text-white mx-1",attrs:{variant:"primary"}},[t._v("戻る")])],1),e("router-link",{attrs:{to:{name:"customer_editor",params:{customer_id:t.customer.customer_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1),e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"danger"},on:{click:t.deleteCustomerData}},[t._v("削除")])],1)],1)},xa=[],Ca={components:{GlobalHeader:Y,GlobalMessage:R},name:"customer",props:{customer_id:{required:!0}},data(){return{customer:{}}},methods:{setPageTitle(t){document.title=t},getCustomerData:function(){g({method:"get",url:`/customers/${this.customer_id}/`}).then(t=>{this.customer=t.data,this.setPageTitle(t.data.customer_id)})},deleteCustomerData:function(){var t=window.confirm("削除してもよろしいですか？");t&&g({method:"delete",url:`/customers/${this.customer_id}/`}).then(()=>{this.$router.push({name:"customer_list"})})}},created(){this.getCustomerData()}},wa=Ca,ka=Object(m["a"])(wa,ga,xa,!1,null,null,null),ya=ka.exports,za=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("main",{staticClass:"container mt-5 p-5"},[e("p",{staticClass:"h5 mb-5"},[t._v("顧客編集")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("顧客名")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("アシスタント")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.assistant,callback:function(e){t.assistant=e},expression:"assistant"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("営業担当")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.sales,callback:function(e){t.sales=e},expression:"sales"}})],1)]),e("div",{staticClass:"row form-group"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("生産管理")]),e("div",{staticClass:"col-sm-8"},[e("b-input",{staticClass:"form-control",attrs:{type:"text"},model:{value:t.production_control,callback:function(e){t.production_control=e},expression:"production_control"}})],1)]),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{staticClass:"customer-link",attrs:{to:{name:"customer",params:{customer_id:t.customer_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])])],1)],1)},ja=[],$a={components:{GlobalHeader:Y,GlobalMessage:R},name:"CustomerEditor",props:{customer_id:{required:!0}},data(){return{customer_name:null,assistant:null,sales:null,production_control:null}},methods:{submitSave:function(){g({method:"PUT",url:`/customers/${this.customer_id}/`,data:{customer_id:this.customer_id,customer_name:this.customer_name,assistant:this.assistant,sales:this.sales,production_control:this.production_control}}).then(t=>{this.$router.push({name:"customer",params:{customer_id:t.data.customer_id}})})}},async beforeRouteEnter(t,e,s){let a=`/customers/${t.params.customer_id}/`,i=await g({url:a});return s(t=>{t.customer_id=i.data.customer_id,t.customer_name=i.data.customer_name,t.assistant=i.data.assistant,t.sales=i.data.sales,t.production_control=i.data.production_control})},created(){document.title="Editor - Customer"}},Ga=$a,qa=Object(m["a"])(Ga,za,ja,!1,null,null,null),Da=qa.exports,Na=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"manager-page"}},[e("b-container",{directives:[{name:"show",rawName:"v-show",value:t.seigi_bool,expression:"seigi_bool"}],staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-container",{staticClass:"my-3"},[e("h4",{staticClass:"mt-3"},[t._v("精査担当者")])]),e("b-container",{staticClass:"my-3"},[e("b-row",{staticClass:"mt-5"},[e("b-col",[e("b-form-radio-group",{attrs:{options:t.seigi_list,stacked:""},model:{value:t.manager,callback:function(e){t.manager=e},expression:"manager"}})],1)],1),e("b-button",{staticClass:"text-light",attrs:{variant:"primary"},on:{click:t.changeManager}},[t._v("担当者決定")])],1)],1)],1)},Ma=[];const Ea=3,Sa=6;var Ta={props:["parent_id"],data(){return{scrutinizer:null,seigi_bool:null,bell_id_list:[],seigi_list:[],manager:null}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/parents/${this.parent_id}/`}).then(t=>{this.manager=t.data.scrutinizer}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.scrutinizer=t.data[0].id,this.seigi_bool=t.data[0].groups.includes(Ea)}),g({method:"GET",url:`/getusers/${Ea}/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.seigi_list.push({value:t.data[e].id,text:t.data[e].last_name+t.data[e].first_name});for(let e=0;e<this.seigi_list.length;e++)g({method:"GET",url:`/getbells2/${this.seigi_list[e].value}/${this.parent_id}/`}).then(t=>{this.bell_id_list.push(t.data[0].id)})})},changeManager:function(){g({method:"PATCH",url:`/parents/${this.parent_id}/`,data:{scrutinizer:this.manager}}).then(t=>{for(let e=0;e<this.bell_id_list.length;e++)g({method:"PATCH",url:`/bells/${this.bell_id_list[e]}/`,data:{is_active:!0,updated_at:S()().format(),updated_user:this.scrutinizer,message_number:Sa}});this.$router.go({name:"parent",params:{parent_id:t.data.parent_id}})})}},created(){this.getData()}},Pa=Ta,Ia=Object(m["a"])(Pa,Na,Ma,!1,null,null,null),Oa=Ia.exports,Qa=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"border my-5",attrs:{fluid:"xl"}},[e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"5",md:"4"}},[e("h3",[t._v("BOM")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"bom_editor",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1)],1)],1)},Ha=[],Aa={props:{parent_id:{required:!0}},data(){return{group:null,seigi_bool:null,parent:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)}),g({method:"GET",url:`/parents/${this.parent_id}/`}).then(t=>{this.parent=t.data})}},created(){this.getData()}},Ya=Aa,La=Object(m["a"])(Ya,Qa,Ha,!1,null,null,null),Fa=La.exports,Xa=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("BOM")])]),e("b-button",{on:{click:t.create_bom}},[t._v("作成")]),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-container",{staticClass:"my-3"},[e("b-row",[e("b-col",{staticClass:"border font-weight-bold"},[t._v("親品目")]),e("b-col",{staticClass:"border font-weight-bold"},[t._v("作業")]),e("b-col",{staticClass:"border font-weight-bold"},[t._v("子品目")]),e("b-col",{staticClass:"border",attrs:{cols:"2"}})],1),t._l(t.boms,(function(s,a){return e("b-row",{key:a,class:a===t.dragIndex?"dragging":"",attrs:{draggable:!0},on:{dragstart:function(e){return t.dragStart(a)},dragenter:function(e){return t.dragEnter(a)},dragover:function(t){t.preventDefault()},dragend:t.dragEnd}},[e("b-col",{staticClass:"border"},[t._v(t._s(s.parent_name))]),e("b-col",{staticClass:"border"},[t._v(t._s(s.operation_name))]),e("b-col",{staticClass:"border"},[t._v(t._s(s.child_name))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteOperation(a)}}},[t._v("削除")])],1)],1)}))],2),e("b-container",{staticClass:"text-center my-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"child",params:{parent_id:t.parent_id,child_id:t.child_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1),t._v(" "+t._s(t.boms)+" ")],1)},Va=[],Wa={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0},child_id:{required:!0}},data(){return{boms:[],dragIndex:null,parent:null,children:null,operations_list:[]}},methods:{submitSave:async function(){},getData:function(){g({method:"GET",url:`/parents/${this.parent_id}/`}).then(t=>{this.parent=t.data}),g({method:"GET",url:`/parents/${this.parent_id}/children/`}).then(t=>{this.children=t.data;for(let e=0;e<this.children.length;e++)g({method:"GET",url:`/get_children_operations3/${this.children[e].child_id}/`}).then(t=>{this.operations_list.push(t.data)})})},dragStart:function(t){this.dragIndex=t},dragEnter:function(t){if(t===this.dragIndex)return;const e=this.boms.splice(this.dragIndex,1)[0];this.boms.splice(t,0,e),this.dragIndex=t},dragEnd:function(){this.dragIndex=null},deleteOperation:function(t){this.boms.splice(t,1)},create_bom:function(){for(let t=0;t<this.operations_list.length;t++)for(let e=0;e<this.operations_list[t].length;e++)this.boms.push({parent_id:this.operations_list[t][e].child_id,parent_name:this.operations_list[t][e].child_name,operation_id:this.operations_list[t][e].operation_id,operation_name:this.operations_list[t][e].operation_name,child_id:this.operations_list[t][e].child_id,child_name:this.operations_list[t][e].child_name})}},created(){this.getData()}},Ra=Wa,Ba=(s("8a7b"),Object(m["a"])(Ra,Xa,Va,!1,null,null,null)),Ua=Ba.exports,Ja=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("購入品")]),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("購入品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"4"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.part_name,callback:function(e){t.part_name=e},expression:"part_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("仕入先")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"9",md:"6"}},[e(Ht["a"],{attrs:{items:t.company_list,"item-text":"company_name","item-value":"company_id"},model:{value:t.company_id,callback:function(e){t.company_id=e},expression:"company_id"}})],1)],1),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],1)],1),e("b-container",{staticClass:"my-5"},[e("b-row",[e("b-col",{staticClass:"bg-dark border text-light"},[t._v("購入品名")]),e("b-col",{staticClass:"bg-dark border text-light"},[t._v("仕入先")]),e("b-col",{staticClass:"bg-dark border",attrs:{cols:"2"}})],1),t._l(t.parts,(function(s){return e("b-row",{key:s.part_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.part_name))]),e("b-col",{staticClass:"border"},[t._v(t._s(s.company_name))]),e("b-col",{staticClass:"border",attrs:{cols:"2"}},[e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deletePart(s.part_id)}}},[t._v("削除")])],1)],1)}))],2)],1)],1)},Ka=[],Za={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0}},data(){return{part_name:null,company_list:null,company_id:null,parts:null}},methods:{getCompany:function(){g({method:"GET",url:"/companies/"}).then(t=>{this.company_list=t.data})},submitSave:function(){g({method:"POST",url:"/parts/",data:{part_name:this.part_name,company_id:this.company_id,parent_id:this.parent_id}}).then(t=>{this.$router.go({name:"part_editor",params:{parent_id:t.data.parent_id}})})},getPart:function(){g({method:"GET",url:`/parents/${this.parent_id}/parts/`}).then(t=>{this.parts=t.data})},deletePart:function(t){g({method:"DELETE",url:`/parts/${t}/`}).then(this.$router.go({name:"part_editor",params:{parent_id:this.parent_id}}))}},created(){this.getCompany(),this.getPart()}},ti=Za,ei=Object(m["a"])(ti,Ja,Ka,!1,null,null,null),si=ei.exports,ai=function(){var t=this,e=t._self._c;return e("div",[e("b-container",{staticClass:"mt-3 border",attrs:{fluid:"xl"}},[e("b-row",[e("b-col",{attrs:{cols:"3",md:"2"}},[e("h3",[t._v("接合情報")])]),e("b-col",{directives:[{name:"show",rawName:"v-show",value:this.seigi_bool,expression:"this.seigi_bool"}]},[e("router-link",{attrs:{to:{name:"assy_editor",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"text-dark mx-1",attrs:{variant:"warning"}},[t._v("編集")])],1)],1)],1)],1)],1)},ii=[],ri={props:{parent_id:{required:!0}},data(){return{parts:null,group:null,seigi_bool:null,SEIGI:3}},computed:{username:function(){return this.$store.state.auth.username}},methods:{getData:function(){g({method:"get",url:`/parents/${this.parent_id}/parts/`}).then(t=>{this.parts=t.data}),g({method:"GET",url:`/getusers2/${this.username}/`}).then(t=>{this.group=t.data[0].groups,this.seigi_bool=this.group.includes(this.SEIGI)})}},created(){this.getData()}},li=ri,oi=Object(m["a"])(li,ai,ii,!1,null,null,null),ni=oi.exports,ci=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"edit-page"}},[e("GlobalHeader"),e("GlobalMessage"),e("b-container",{staticClass:"my-3"},[e("h2",[t._v("接合品登録")]),e("b-container",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitSave.apply(null,arguments)}}},[e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("品名")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-input",{attrs:{type:"text"},model:{value:t.assy_name,callback:function(e){t.assy_name=e},expression:"assy_name"}})],1)],1),e("b-row",[e("b-col",[e("label",{staticClass:"font-weight-bold"},[t._v("中間品/完成品")])])],1),e("b-row",{staticClass:"mb-3"},[e("b-col",[e("b-form-radio-group",{attrs:{options:t.matl_type_options,stacked:""},model:{value:t.matl_type,callback:function(e){t.matl_type=e},expression:"matl_type"}})],1)],1),e("b-row",[e("b-col",{staticClass:"border"},[t._v("品名")]),e("b-col",{staticClass:"border"},[t._v("枚数")])],1),t._l(t.number,(function(s){return e("b-row",{key:s.child_id},[e("b-col",{staticClass:"border"},[t._v(t._s(s.child_name))]),e("b-col",{staticClass:"border"},[e("b-form-input",{attrs:{type:"number"},model:{value:s.number,callback:function(e){t.$set(s,"number",e)},expression:"child.number"}})],1)],1)})),e("div",{staticClass:"row text-center mt-5"},[e("div",{staticClass:"col-sm-12"},[e("router-link",{attrs:{to:{name:"parent",params:{parent_id:t.parent_id}}}},[e("b-button",{staticClass:"mx-1",attrs:{variant:"light"}},[t._v("戻る")])],1),e("b-button",{staticClass:"mx-1",attrs:{type:"submit",variant:"primary"}},[t._v(" 送信 ")])],1)])],2)],1)],1),t._v(" "+t._s(t.children)+" "+t._s(t.number)+" ")],1)},_i=[],mi={components:{GlobalHeader:Y,GlobalMessage:R},props:{parent_id:{required:!0}},data(){return{assy_name:null,assys:null,matl_type:null,matl_type_options:[{text:"中間品",value:"0"},{text:"完成品",value:"1"}],sheets:null,number:[]}},methods:{getChildren:function(){g({method:"GET",url:`/parents/${this.parent_id}/children/`}).then(t=>{for(let e=0;e<t.data.length;e++)this.number.push({child_id:t.data[e].child_id,child_name:t.data[e].child_name,number:""})})},submitSave:function(){var t=[];g({method:"POST",url:"/assys/",data:{assy_name:this.assy_name,parent_id:this.parent_id,matl_type:this.matl_type}}).then(e=>{for(let a=0;a<this.number.length;a++)if(this.number[a].number){var s=g({method:"POST",url:"/assys_children/",data:{assy_id:e.data.assy_id,child_id:this.number[a].child_id,sheets:this.number[a].number}});t.push(s)}}),Promise.all(t).then(()=>{this.$router.push({name:"parent",params:{parent_id:this.parent_id}})})}},created(){this.getChildren()}},di=mi,ui=Object(m["a"])(di,ci,_i,!1,null,null,null),bi=ui.exports;a["default"].use(b["a"]);const hi=[{path:"/",name:"home",component:K,meta:{requiresAuth:!0}},{path:"/parent/:parent_id",name:"parent",component:Qt,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/children_list",name:"children_list",component:dt,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/special_process",name:"special_process",component:ge,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/outsourcing",name:"outsourcing",component:ze,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/process_flow",name:"process_flow",component:Ne,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/mask_list",name:"mask_list",component:Oe,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/comments_list",name:"comments_list",component:ft,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/status",name:"status",component:qt,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/manager",name:"manager",component:Oa,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/part_list",name:"part_list",component:Tt,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/part_editor",name:"part_editor",component:si,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/assy_list",name:"assy_list",component:ni,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/assy_editor",name:"assy_editor",component:bi,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/bom",name:"bom",component:Fa,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/bom_editor",name:"bom_editor",component:Ua,props:!0,meta:{requiresAuth:!0}},{path:"/create",name:"create",component:ee,props:!0,meta:{requiresAuth:!0}},{path:"/editor/:parent_id",name:"editor",component:_e,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id",name:"child",component:Ye,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child_create",name:"child_create",component:ts,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/editor",name:"child_editor",component:Re,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/mask_create",name:"mask_create",component:fs,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/mask/:mask_id",name:"mask",component:ls,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/mask/:mask_id/editor",name:"mask_editor",component:ds,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/special_process_editor",name:"special_process_editor",component:ys,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/outsourcing_editor",name:"outsourcing_editor",component:Ds,props:!0,meta:{requiresAuth:!0}},{path:"/parent/:parent_id/child/:child_id/process_flow_editor",name:"process_flow_editor",component:Ps,props:!0,meta:{requiresAuth:!0}},{path:"/material_list",name:"material_list",component:Ys,meta:{requiresAuth:!0}},{path:"/material_create",name:"material_create",component:Rs,props:!0,meta:{requiresAuth:!0}},{path:"/material/:material_id",name:"material",component:ta,props:!0,meta:{requiresAuth:!0}},{path:"/material/:material_id/editor",name:"material_editor",component:la,props:!0,meta:{requiresAuth:!0}},{path:"/customer_list",name:"customer_list",component:da,meta:{requiresAuth:!0}},{path:"/customer_create",name:"customer_create",component:fa,props:!0,meta:{requiresAuth:!0}},{path:"/customer/:customer_id",name:"customer",component:ya,props:!0,meta:{requiresAuth:!0}},{path:"/customer/:customer_id/editor",name:"customer_editor",component:Da,props:!0,meta:{requiresAuth:!0}},{path:"/bell/",name:"bell",component:O,meta:{requiresAuth:!0}},{path:"/login",component:it},{path:"/:catchAll(.*)",redirect:"/"}],pi=new b["a"]({mode:"history",routes:hi,scrollBehavior(t,e,s){return s||{x:0,y:0}}});function vi(t){console.log("Force to login page."),pi.replace({path:"/login",query:{next:t.fullPath}})}pi.beforeEach((t,e,s)=>{const a=k.state.auth.isLoggedIn,i=localStorage.getItem("access");console.log("to.path=",t.path),console.log("isLoggedIn=",a),t.matched.some(t=>t.meta.requiresAuth)?a?(console.log("User is already logged in. So, free to next."),s()):(console.log("User is not logged in."),null!=i?(console.log("Try to renew user info."),k.dispatch("auth/renew").then(()=>{console.log("Succeeded to renew. So, free to next."),s()}).catch(()=>{vi(t)})):vi(t)):(console.log("Go to public page."),s())});var fi=pi,gi=s("f309");a["default"].use(gi["a"]);var xi=new gi["a"]({});a["default"].config.productionTip=!1,a["default"].use(i["a"]),new a["default"]({router:fi,store:k,vuetify:xi,render:t=>t(u)}).$mount("#app")},"8a7b":function(t,e,s){"use strict";s("a98b")},a98b:function(t,e,s){},b7e7:function(t,e,s){"use strict";s("28c9")}});
//# sourceMappingURL=index.e96b73ee.js.map